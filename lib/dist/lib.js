!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("react-dom"));else if("function"==typeof define&&define.amd)define(["react","react-dom"],t);else{var r="object"==typeof exports?t(require("react"),require("react-dom")):t(e.React,e.ReactDOM);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,(function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=23)}([function(t,r){t.exports=e},function(e,t,r){"use strict";(function(e){var n;r.d(t,"a",(function(){return ce})),r.d(t,"b",(function(){return le})),r.d(t,"c",(function(){return v})),r.d(t,"d",(function(){return se}));var o,a,i="undefined"!=typeof Symbol,s="undefined"!=typeof Map,c="undefined"!=typeof Set,l=i?Symbol("immer-nothing"):((n={})["immer-nothing"]=!0,n),u=i?Symbol("immer-draftable"):"__$immer_draftable",f=i?Symbol("immer-state"):"__$immer_state",d=i?Symbol.iterator:"@@iterator",p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function h(e,t){function r(){this.constructor=e}p(e,t),e.prototype=(r.prototype=t.prototype,new r)}function v(e){return!!e&&!!e[f]}function g(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[u]||!!e.constructor[u]||x(e)||j(e))}!function(e){e[e.Object=0]="Object",e[e.Array=1]="Array",e[e.Map=2]="Map",e[e.Set=3]="Set"}(o||(o={})),function(e){e[e.ProxyObject=0]="ProxyObject",e[e.ProxyArray=1]="ProxyArray",e[e.ES5Object=2]="ES5Object",e[e.ES5Array=3]="ES5Array",e[e.Map=4]="Map",e[e.Set=5]="Set"}(a||(a={}));var m="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function y(e,t){b(e)===o.Object?m(e).forEach((function(r){return t(r,e[r],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function b(e){if(e||A(),e[f])switch(e[f].type){case a.ES5Object:case a.ProxyObject:return o.Object;case a.ES5Array:case a.ProxyArray:return o.Array;case a.Map:return o.Map;case a.Set:return o.Set}return Array.isArray(e)?o.Array:x(e)?o.Map:j(e)?o.Set:o.Object}function w(e,t){return b(e)===o.Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){return b(e)===o.Map?e.get(t):e[t]}function E(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function x(e){return s&&e instanceof Map}function j(e){return c&&e instanceof Set}function P(e){return e.copy||e.base}function k(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var r=Object.create(Object.getPrototypeOf(e));return m(e).forEach((function(n){if(n!==f){var o=Object.getOwnPropertyDescriptor(e,n),a=o.value;if(o.get){if(!t)throw new Error("Immer drafts cannot have computed properties");a=o.get.call(e)}o.enumerable?r[n]=a:Object.defineProperty(r,n,{value:a,writable:!0,configurable:!0})}})),r}function F(e,t){if(g(e)&&!v(e)&&!Object.isFrozen(e)){var r=b(e);r===o.Set?e.add=e.clear=e.delete=D:r===o.Map&&(e.set=e.clear=e.delete=D),Object.freeze(e),t&&y(e,(function(e,t){return F(t,!0)}))}}function D(){throw new Error("This object has been frozen and should not be mutated")}function A(){throw new Error("Illegal state, please file a bug")}var S=function(){function e(e,t){this.drafts=[],this.parent=e,this.immer=t,this.canAutoFreeze=!0}return e.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},e.prototype.revoke=function(){this.leave(),this.drafts.forEach(C),this.drafts=null},e.prototype.leave=function(){this===e.current&&(e.current=this.parent)},e.enter=function(t){var r=new e(e.current,t);return e.current=r,r},e}();function C(e){var t=e[f];t.type===a.ProxyObject||t.type===a.ProxyArray?t.revoke():t.revoked=!0}function B(e,t,r){var n=r.drafts[0],o=void 0!==t&&t!==n;if(e.willFinalize(r,t,o),o){if(n[f].modified)throw r.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");g(t)&&(t=M(e,t,r),r.parent||T(e,t)),r.patches&&(r.patches.push({op:"replace",path:[],value:t}),r.inversePatches.push({op:"replace",path:[],value:n[f].base}))}else t=M(e,n,r,[]);return r.revoke(),r.patches&&r.patchListener(r.patches,r.inversePatches),t!==l?t:void 0}function M(e,t,r,n){var o=t[f];if(!o)return Object.isFrozen(t)?t:N(e,t,r);if(o.scope!==r)return t;if(!o.modified)return T(e,o.base,!0),o.base;if(!o.finalized){if(o.finalized=!0,N(e,o.draft,r,n),e.onDelete&&o.type!==a.Set)if(e.useProxies){y(o.assigned,(function(t,r){r||e.onDelete(o,t)}))}else{var i=o.base,s=o.copy;y(i,(function(t){w(s,t)||e.onDelete(o,t)}))}e.onCopy&&e.onCopy(o),e.autoFreeze&&r.canAutoFreeze&&F(o.copy,!1),n&&r.patches&&function(e,t,r,n){switch(e.type){case a.ProxyObject:case a.ES5Object:case a.Map:return function(e,t,r,n){var o=e.base,a=e.copy;y(e.assigned,(function(e,i){var s=O(o,e),c=O(a,e),l=i?w(o,e)?"replace":"add":"remove";if(s!==c||"replace"!==l){var u=t.concat(e);r.push("remove"===l?{op:l,path:u}:{op:l,path:u,value:c}),n.push("add"===l?{op:"remove",path:u}:"remove"===l?{op:"add",path:u,value:s}:{op:"replace",path:u,value:s})}}))}(e,t,r,n);case a.ES5Array:case a.ProxyArray:return function(e,t,r,n){var o,a,i=e.base,s=e.assigned,c=e.copy;c||A();c.length<i.length&&(i=(o=[c,i])[0],c=o[1],r=(a=[n,r])[0],n=a[1]);var l=c.length-i.length,u=0;for(;i[u]===c[u]&&u<i.length;)++u;var f=i.length;for(;f>u&&i[f-1]===c[f+l-1];)--f;for(var d=u;d<f;++d)if(s[d]&&c[d]!==i[d]){var p=t.concat([d]);r.push({op:"replace",path:p,value:c[d]}),n.push({op:"replace",path:p,value:i[d]})}var h=r.length;for(d=f+l-1;d>=f;--d){p=t.concat([d]);r[h+d-f]={op:"add",path:p,value:c[d]},n.push({op:"remove",path:p})}}(e,t,r,n);case a.Set:(function(e,t,r,n){var o=e.base,a=e.copy,i=0;o.forEach((function(e){if(!a.has(e)){var o=t.concat([i]);r.push({op:"remove",path:o,value:e}),n.unshift({op:"add",path:o,value:e})}i++})),i=0,a.forEach((function(e){if(!o.has(e)){var a=t.concat([i]);r.push({op:"add",path:a,value:e}),n.unshift({op:"remove",path:a,value:e})}i++}))})(e,t,r,n)}}(o,n,r.patches,r.inversePatches)}return o.copy}function N(e,t,r,n){var i=t[f];return i&&(i.type!==a.ES5Object&&i.type!==a.ES5Array||(i.copy=k(i.draft,!0)),t=i.copy),y(t,(function(a,s){return function e(t,r,n,a,i,s,c,l){if(c===i)throw Error("Immer forbids circular references");var u=!!a&&i===n,f=j(i);if(v(c)){var d=l&&u&&!f&&!w(a.assigned,s)?l.concat(s):void 0;c=M(t,c,r,d),function(e,t,r){switch(b(e)){case o.Map:e.set(t,r);break;case o.Set:e.delete(t),e.add(r);break;default:e[t]=r}}(i,s,c),v(c)&&(r.canAutoFreeze=!1)}else{if(u&&E(c,O(a.base,s)))return;g(c)&&(y(c,(function(o,i){return e(t,r,n,a,c,o,i,l)})),r.parent||T(t,c))}u&&t.onAssign&&!f&&t.onAssign(a,s,c)}(e,r,t,i,t,a,s,n)})),t}function T(e,t,r){void 0===r&&(r=!1),e.autoFreeze&&!v(t)&&F(t,r)}var R={get:function(e,t){if(t===f)return e;var r=e.drafts;if(!e.modified&&w(r,t))return r[t];var n=P(e)[t];if(e.finalized||!g(n))return n;if(e.modified){if(n!==z(e.base,t))return n;r=e.copy}return r[t]=e.scope.immer.createProxy(n,e)},has:function(e,t){return t in P(e)},ownKeys:function(e){return Reflect.ownKeys(P(e))},set:function(e,t,r){if(!e.modified){var n=z(e.base,t);if(r?E(n,r)||r===e.drafts[t]:E(n,r)&&t in e.base)return!0;I(e),L(e)}return e.assigned[t]=!0,e.copy[t]=r,!0},deleteProperty:function(e,t){return void 0!==z(e.base,t)||t in e.base?(e.assigned[t]=!1,I(e),L(e)):e.assigned[t]&&delete e.assigned[t],e.copy&&delete e.copy[t],!0},getOwnPropertyDescriptor:function(e,t){var r=P(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&(n.writable=!0,n.configurable=e.type!==a.ProxyArray||"length"!==t),n},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},_={};function z(e,t){var r=e[f],n=Reflect.getOwnPropertyDescriptor(r?P(r):e,t);return n&&n.value}function L(e){if(!e.modified){if(e.modified=!0,e.type===a.ProxyObject||e.type===a.ProxyArray){var t=e.copy=k(e.base);y(e.drafts,(function(e,r){t[e]=r})),e.drafts=void 0}e.parent&&L(e.parent)}}function I(e){e.copy||(e.copy=k(e.base))}function W(e,t,r){e.drafts.forEach((function(e){e[f].finalizing=!0})),r?v(t)&&t[f].scope===e&&X(e.drafts):(e.patches&&function e(t){if(!t||"object"!=typeof t)return;var r=t[f];if(!r)return;var n=r.base,o=r.draft,i=r.assigned,s=r.type;if(s===a.ES5Object)y(o,(function(t){t!==f&&(void 0!==n[t]||w(n,t)?i[t]||e(o[t]):(i[t]=!0,V(r)))})),y(n,(function(e){void 0!==o[e]||w(o,e)||(i[e]=!1,V(r))}));else if(s===a.ES5Array){if(Z(r)&&(V(r),i.length=!0),o.length<n.length)for(var c=o.length;c<n.length;c++)i[c]=!1;else for(c=n.length;c<o.length;c++)i[c]=!0;var l=Math.min(o.length,n.length);for(c=0;c<l;c++)void 0===i[c]&&e(o[c])}}(e.drafts[0]),X(e.drafts))}function q(e,t){var r=Array.isArray(e),n=K(e);y(n,(function(t){!function(e,t,r){var n=J[t];n?n.enumerable=r:J[t]=n={configurable:!0,enumerable:r,get:function(){return function(e,t){$(e);var r=H(P(e),t);if(e.finalizing)return r;if(r===H(e.base,t)&&g(r))return U(e),e.copy[t]=e.scope.immer.createProxy(r,e);return r}(this[f],t)},set:function(e){!function(e,t,r){if($(e),e.assigned[t]=!0,!e.modified){if(E(r,H(P(e),t)))return;V(e),U(e)}e.copy[t]=r}(this[f],t,e)}};Object.defineProperty(e,t,n)}(n,t,r||function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(!r||!r.enumerable)}(e,t))}));var o,i,s,c={type:r?a.ES5Array:a.ES5Object,scope:t?t.scope:S.current,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:n,copy:null,revoked:!1,isManual:!1};return o=n,i=f,s=c,Object.defineProperty(o,i,{value:s,enumerable:!1,writable:!0}),n}function H(e,t){var r=e[f];if(r&&!r.finalizing){r.finalizing=!0;var n=e[t];return r.finalizing=!1,n}return e[t]}function V(e){e.modified||(e.modified=!0,e.parent&&V(e.parent))}function U(e){e.copy||(e.copy=K(e.base))}function K(e){var t=e&&e[f];if(t){t.finalizing=!0;var r=k(t.draft,!0);return t.finalizing=!1,r}return k(e)}y(R,(function(e,t){_[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),_.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return R.deleteProperty.call(this,e[0],t)},_.set=function(e,t,r){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return R.set.call(this,e[0],t,r,e[0])};var J={};function $(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(P(e)))}function X(e){for(var t=e.length-1;t>=0;t--){var r=e[t][f];if(!r.modified)switch(r.type){case a.ES5Array:Z(r)&&V(r);break;case a.ES5Object:Y(r)&&V(r)}}}function Y(e){for(var t=e.base,r=e.draft,n=Object.keys(r),o=n.length-1;o>=0;o--){var a=n[o],i=t[a];if(void 0===i&&!w(t,a))return!0;var s=r[a],c=s&&s[f];if(c?c.base!==i:!E(s,i))return!0}return n.length!==Object.keys(t).length}function Z(e){var t=e.draft;if(t.length!==e.base.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var G=function(e){if(!e)throw new Error("Map is not polyfilled");function t(e,t){return this[f]={type:a.Map,parent:t,scope:t?t.scope:S.current,modified:!1,finalized:!1,copy:void 0,assigned:void 0,base:e,draft:this,isManual:!1,revoked:!1},this}h(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return P(this[f]).size},enumerable:!0,configurable:!0}),r.has=function(e){return P(this[f]).has(e)},r.set=function(e,t){var r=this[f];return $(r),P(r).get(e)!==t&&(Q(r),r.scope.immer.markChanged(r),r.assigned.set(e,!0),r.copy.set(e,t),r.assigned.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[f];return $(t),Q(t),t.scope.immer.markChanged(t),t.assigned.set(e,!1),t.copy.delete(e),!0},r.clear=function(){var e=this[f];return $(e),Q(e),e.scope.immer.markChanged(e),e.assigned=new Map,e.copy.clear()},r.forEach=function(e,t){var r=this;P(this[f]).forEach((function(n,o,a){e.call(t,r.get(o),o,r)}))},r.get=function(e){var t=this[f];$(t);var r=P(t).get(e);if(t.finalized||!g(r))return r;if(r!==t.base.get(e))return r;var n=t.scope.immer.createProxy(r,t);return Q(t),t.copy.set(e,n),n},r.keys=function(){return P(this[f]).keys()},r.values=function(){var e,t=this,r=this.keys();return(e={})[d]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,r=this.keys();return(e={})[d]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},r[d]=function(){return this.entries()},t}(Map);function Q(e){e.copy||(e.assigned=new Map,e.copy=new Map(e.base))}var ee=function(e){if(!e)throw new Error("Set is not polyfilled");function t(e,t){return this[f]={type:a.Set,parent:t,scope:t?t.scope:S.current,modified:!1,finalized:!1,copy:void 0,base:e,draft:this,drafts:new Map,revoked:!1,isManual:!1},this}h(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return P(this[f]).size},enumerable:!0,configurable:!0}),r.has=function(e){var t=this[f];return $(t),t.copy?!!t.copy.has(e)||!(!t.drafts.has(e)||!t.copy.has(t.drafts.get(e))):t.base.has(e)},r.add=function(e){var t=this[f];return $(t),t.copy?t.copy.add(e):t.base.has(e)||(te(t),t.scope.immer.markChanged(t),t.copy.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[f];return $(t),te(t),t.scope.immer.markChanged(t),t.copy.delete(e)||!!t.drafts.has(e)&&t.copy.delete(t.drafts.get(e))},r.clear=function(){var e=this[f];return $(e),te(e),e.scope.immer.markChanged(e),e.copy.clear()},r.values=function(){var e=this[f];return $(e),te(e),e.copy.values()},r.entries=function(){var e=this[f];return $(e),te(e),e.copy.entries()},r.keys=function(){return this.values()},r[d]=function(){return this.values()},r.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}(Set);function te(e){e.copy||(e.copy=new Set,e.base.forEach((function(t){if(g(t)){var r=e.scope.immer.createProxy(t,e);e.drafts.set(t,r),e.copy.add(r)}else e.copy.add(t)})))}function re(e,t){return t.forEach((function(t){var r=t.path,n=t.op;r.length||A();for(var a=e,i=0;i<r.length-1;i++)if(!(a=O(a,r[i]))||"object"!=typeof a)throw new Error("Cannot apply patch, path doesn't resolve: "+r.join("/"));var s=b(a),c=ne(t.value),l=r[r.length-1];switch(n){case"replace":switch(s){case o.Map:return a.set(l,c);case o.Set:throw new Error('Sets cannot have "replace" patches.');default:return a[l]=c}case"add":switch(s){case o.Array:return a.splice(l,0,c);case o.Map:return a.set(l,c);case o.Set:return a.add(c);default:return a[l]=c}case"remove":switch(s){case o.Array:return a.splice(l,1);case o.Map:return a.delete(l);case o.Set:return a.delete(t.value);default:return delete a[l]}default:throw new Error("Unsupported patch operation: "+n)}})),e}function ne(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(ne);if(x(e))return new Map(Array.from(e.entries()).map((function(e){return[e[0],ne(e[1])]})));if(j(e))return new Set(Array.from(e).map(ne));var t=Object.create(Object.getPrototypeOf(e));for(var r in e)t[r]=ne(e[r]);return t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function oe(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n}var ae={useProxies:"undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,autoFreeze:void 0===e&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},ie=new(function(){function e(e){var t=this;this.useProxies=!1,this.autoFreeze=!1,y(ae,(function(r,n){var o,a;t[r]=null!=(a=null===(o=e)||void 0===o?void 0:o[r])?a:n})),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}return e.prototype.produce=function(e,t,r){var n,o=this;if("function"==typeof e&&"function"!=typeof t){var a=t;t=e;var i=this;return function(e){var r=arguments,n=this;void 0===e&&(e=a);for(var o=[],s=1;s<arguments.length;s++)o[s-1]=r[s];return i.produce(e,(function(e){return t.call.apply(t,oe([n,e],o))}))}}if("function"!=typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==r&&"function"!=typeof r)throw new Error("The third argument to `produce` must be a function or undefined");if(g(e)){var s=S.enter(this),c=this.createProxy(e,void 0),u=!0;try{n=t(c),u=!1}finally{u?s.revoke():s.leave()}return"undefined"!=typeof Promise&&n instanceof Promise?n.then((function(e){return s.usePatches(r),B(o,e,s)}),(function(e){throw s.revoke(),e})):(s.usePatches(r),B(this,n,s))}if((n=t(e))!==l)return void 0===n&&(n=e),T(this,n,!0),n},e.prototype.produceWithPatches=function(e,t,r){var n,o,a=this;return"function"==typeof e?function(t){for(var r=arguments,n=[],o=1;o<arguments.length;o++)n[o-1]=r[o];return a.produceWithPatches(t,(function(t){return e.apply(void 0,oe([t],n))}))}:(r&&A(),[this.produce(e,t,(function(e,t){n=e,o=t})),n,o])},e.prototype.createDraft=function(e){if(!g(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=S.enter(this),r=this.createProxy(e,void 0);return r[f].isManual=!0,t.leave(),r},e.prototype.finishDraft=function(e,t){var r=e&&e[f];if(!r||!r.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(r.finalized)throw new Error("The given draft is already finalized");var n=r.scope;return n.usePatches(t),B(this,void 0,n)},e.prototype.setAutoFreeze=function(e){this.autoFreeze=e},e.prototype.setUseProxies=function(e){this.useProxies=e},e.prototype.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}return v(e)?re(e,t):this.produce(e,(function(e){return re(e,t.slice(r+1))}))},e.prototype.createProxy=function(e,t){var r=x(e)?function(e,t){return new G(e,t)}(e,t):j(e)?function(e,t){return new ee(e,t)}(e,t):this.useProxies?function(e,t){var r=Array.isArray(e),n={type:r?a.ProxyArray:a.ProxyObject,scope:t?t.scope:S.current,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null,isManual:!1},o=n,i=R;r&&(o=[n],i=_);var s=Proxy.revocable(o,i),c=s.revoke,l=s.proxy;return n.draft=l,n.revoke=c,l}(e,t):q(e,t);return(t?t.scope:S.current).drafts.push(r),r},e.prototype.willFinalize=function(e,t,r){this.useProxies||W(e,t,r)},e.prototype.markChanged=function(e){this.useProxies?L(e):V(e)},e}()),se=ie.produce,ce=(ie.produceWithPatches.bind(ie),ie.setAutoFreeze.bind(ie),ie.setUseProxies.bind(ie),ie.applyPatches.bind(ie),ie.createDraft.bind(ie)),le=ie.finishDraft.bind(ie)}).call(this,r(13))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),o={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},a={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)i["f"+s]=111+s;function c(e,t,r){t&&!("byKey"in t)&&(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map((function(e){return l(e,t)})),o=function(e){return n.some((function(t){return u(t,e)}))};return null==r?o:o(r)}function l(e,t){var r=t&&t.byKey,n={},a=(e=e.replace("++","+add")).split("+"),i=a.length;for(var s in o)n[o[s]]=!1;var c=!0,l=!1,u=void 0;try{for(var p,h=a[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var v=p.value,g=v.endsWith("?")&&v.length>1;g&&(v=v.slice(0,-1));var m=d(v),y=o[m];1!==i&&y||(r?n.key=m:n.which=f(v)),y&&(n[y]=!g||null)}}catch(e){l=!0,u=e}finally{try{!c&&h.return&&h.return()}finally{if(l)throw u}}return n}function u(e,t){for(var r in e){var n=e[r],o=void 0;if(null!=n&&((null!=(o="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&o!==n))return!1}return!0}function f(e){return e=d(e),i[e]||e.toUpperCase().charCodeAt(0)}function d(e){return e=e.toLowerCase(),e=a[e]||e}t.default=c,t.isHotkey=c,t.isCodeHotkey=function(e,t){return c(e,t)},t.isKeyHotkey=function(e,t){return c(e,{byKey:!0},t)},t.parseHotkey=l,t.compareHotkey=u,t.toKeyCode=f,t.toKeyName=d},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(16),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();e.exports=a},function(e,t,r){var n=r(5).Symbol;e.exports=n},function(e,t,r){(function(e,n){var o;/*! https://mths.be/esrever v0.2.0 by @mathias */!function(a){var i=t,s=(e&&e.exports,"object"==typeof n&&n);s.global!==s&&s.window;var c=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,l=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,u=function(e){for(var t="",r=(e=e.replace(c,(function(e,t,r){return u(r)+t})).replace(l,"$2$1")).length;r--;)t+=e.charAt(r);return t},f={version:"0.2.0",reverse:u};void 0===(o=function(){return f}.call(t,r,t,e))||(e.exports=o)}()}).call(this,r(12)(e),r(4))},function(e,t,r){var n=r(14),o=r(3);e.exports=function(e,t,r){var a=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(r)&&(a="leading"in r?!!r.leading:a,i="trailing"in r?!!r.trailing:i),n(e,t,{leading:a,maxWait:t,trailing:i})}},function(e,t,r){"use strict";e.exports=function(e){if(e=String(e||""),o.test(e))return"rtl";if(a.test(e))return"ltr";return"neutral"};var n="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",o=new RegExp("^[^"+n+"]*[֑-߿יִ-﷽ﹰ-ﻼ]"),a=new RegExp("^[^֑-߿יִ-﷽ﹰ-ﻼ]*["+n+"]")},function(e,r){e.exports=t},function(e,t){e.exports=function(e){if("string"!=typeof e)return!1;var t=e.match(r);if(!t)return!1;var a=t[1];if(!a)return!1;if(n.test(a)||o.test(a))return!0;return!1};var r=/^(?:\w+:)?\/\/(\S+)$/,n=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,o=/^[^\s\.]+\.\S{2,}$/},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var r,n,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var c,l=[],u=!1,f=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):f=-1,l.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=l.length;t;){for(c=l,l=[];++f<t;)c&&c[f].run();f=-1,t=l.length}c=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){var n=r(3),o=r(15),a=r(17),i=Math.max,s=Math.min;e.exports=function(e,t,r){var c,l,u,f,d,p,h=0,v=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=c,n=l;return c=l=void 0,h=t,f=e.apply(n,r)}function b(e){return h=e,d=setTimeout(O,t),v?y(e):f}function w(e){var r=e-p;return void 0===p||r>=t||r<0||g&&e-h>=u}function O(){var e=o();if(w(e))return E(e);d=setTimeout(O,function(e){var r=t-(e-p);return g?s(r,u-(e-h)):r}(e))}function E(e){return d=void 0,m&&c?y(e):(c=l=void 0,f)}function x(){var e=o(),r=w(e);if(c=arguments,l=this,p=e,r){if(void 0===d)return b(p);if(g)return clearTimeout(d),d=setTimeout(O,t),y(p)}return void 0===d&&(d=setTimeout(O,t)),f}return t=a(t)||0,n(r)&&(v=!!r.leading,u=(g="maxWait"in r)?i(a(r.maxWait)||0,t):u,m="trailing"in r?!!r.trailing:m),x.cancel=function(){void 0!==d&&clearTimeout(d),h=0,c=p=l=d=void 0},x.flush=function(){return void 0===d?f:E(o())},x}},function(e,t,r){var n=r(5);e.exports=function(){return n.Date.now()}},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(4))},function(e,t,r){var n=r(3),o=r(18),a=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=s.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):i.test(e)?NaN:+e}},function(e,t,r){var n=r(19),o=r(22);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},function(e,t,r){var n=r(6),o=r(20),a=r(21),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):a(e)}},function(e,t,r){var n=r(6),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=i.call(e);return n&&(t?e[s]=r:delete e[s]),o}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){"use strict";r.r(t),r.d(t,"bold",(function(){return Pr})),r.d(t,"italic",(function(){return Ar})),r.d(t,"underline",(function(){return Mr})),r.d(t,"logger",(function(){return Tr})),r.d(t,"bulletedList",(function(){return Lr})),r.d(t,"numberedList",(function(){return Hr})),r.d(t,"listItem",(function(){return Ur})),r.d(t,"mention",(function(){return Qr})),r.d(t,"editorPlaceholder",(function(){return sn})),r.d(t,"link",(function(){return vn})),r.d(t,"JsonViewer",(function(){return mn})),r.d(t,"Toolbar",(function(){return yr})),r.d(t,"plainSerializer",(function(){return yn})),r.d(t,"makeReactTransformer",(function(){return xn})),r.d(t,"defaultReactTransformer",(function(){return En}));var n=r(0),o=r.n(n);
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function a(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var t}function i(e){var t,r;return!1!==a(e)&&("function"==typeof(t=e.constructor)&&(!1!==a(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}var s=r(1),c=r(7);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var f=new WeakMap,d=new WeakMap,p=new WeakMap,h=new WeakMap,v=new WeakMap,g=new WeakMap,m=/\s/,y=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,b=/['\u2018\u2019]/,w=e=>{for(var t=0,r=null,n=e.charCodeAt(0);n;)if(E(n)){var o=x(n,e,t);if("SURR"===r||"BMP"===r)break;t+=2,r=o?"MOD":"SURR",n=e.charCodeAt(t)}else if(8205!==n)if(P(n)){if(r&&"ZWJ"!==r&&"VAR"!==r)break;t+=1,r="BMP",n=e.charCodeAt(t)}else{if(!j(n)){if("MOD"===r){t+=1;break}break}if(r&&"ZWJ"!==r)break;t+=1,r="VAR",n=e.charCodeAt(t)}else t+=1,r="ZWJ",n=e.charCodeAt(t);return t||1},O=(e,t)=>{if(m.test(e))return!1;if(b.test(e)){var r=t.charAt(0),n=w(r);r=t.slice(0,n);var o=t.slice(n);if(O(r,o))return!0}return!y.test(e)},E=e=>55296<=e&&e<=57343,x=(e,t,r)=>{if(55356===e){var n=t.charCodeAt(r+1);return n<=57343&&n>=57339}return!1},j=e=>e<=65039&&e>=65024,P=e=>10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e;function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D={above(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:o=e.selection,match:a}=t;if(o){var i=D.path(e,o),s="lowest"===n;for(var[c,l]of D.levels(e,{at:i,voids:r,match:a,reverse:s}))if(!U.isText(c)&&!T.equals(i,l))return[c,l]}},addMark(e,t,r){e.addMark(t,r)},after(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:D.point(e,t,{edge:"end"}),focus:D.end(e,[])},{distance:a=1}=n,i=0;for(var s of D.positions(e,F({},n,{at:o}))){if(i>a)break;0!==i&&(r=s),i++}return r},before(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:D.start(e,[]),focus:D.point(e,t,{edge:"start"})},{distance:a=1}=n,i=0;for(var s of D.positions(e,F({},n,{at:o,reverse:!0}))){if(i>a)break;0!==i&&(r=s),i++}return r},deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e){e.deleteFragment()},edges:(e,t)=>[D.start(e,t),D.end(e,t)],end:(e,t)=>D.point(e,t,{edge:"end"}),first(e,t){var r=D.path(e,t,{edge:"start"});return D.node(e,r)},fragment(e,t){var r=D.range(e,t);return C.fragment(e,r)},hasBlocks:(e,t)=>t.children.some(t=>D.isBlock(e,t)),hasInlines:(e,t)=>t.children.some(t=>U.isText(t)||D.isInline(e,t)),hasTexts:(e,t)=>t.children.every(e=>U.isText(e)),insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>A.isElement(t)&&!e.isInline(t),isEditor:e=>i(e)&&"function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&(null===e.marks||i(e.marks))&&(null===e.selection||W.isRange(e.selection))&&C.isNodeList(e.children)&&N.isOperationList(e.operations),isEnd(e,t,r){var n=D.end(e,r);return z.equals(t,n)},isEdge:(e,t,r)=>D.isStart(e,t,r)||D.isEnd(e,t,r),isEmpty(e,t){var{children:r}=t,[n]=r;return 0===r.length||1===r.length&&U.isText(n)&&""===n.text&&!e.isVoid(t)},isInline:(e,t)=>A.isElement(t)&&e.isInline(t),isNormalizing(e){var t=p.get(e);return void 0===t||t},isStart(e,t,r){if(0!==t.offset)return!1;var n=D.start(e,r);return z.equals(t,n)},isVoid:(e,t)=>A.isElement(t)&&e.isVoid(t),last(e,t){var r=D.path(e,t,{edge:"end"});return D.node(e,r)},leaf(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=D.path(e,t,r);return[C.leaf(e,n),n]},*levels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,reverse:n=!1,voids:o=!1}=t,{match:a}=t;if(null==a&&(a=()=>!0),r){var i=[],s=D.path(e,r);for(var[c,l]of C.levels(e,s))if(a(c)&&(i.push([c,l]),!o&&D.isVoid(e,c)))break;n&&i.reverse(),yield*i}},marks(e){var{marks:t,selection:r}=e;if(!r)return null;if(t)return t;if(W.isExpanded(r)){var[n]=D.nodes(e,{match:U.isText});if(n){var[o]=n;return u(o,["text"])}return{}}var{anchor:a}=r,{path:i}=a,[s]=D.leaf(e,i);if(0===a.offset){var c=D.previous(e,{at:i,match:U.isText}),l=D.above(e,{match:t=>D.isBlock(e,t)});if(c&&l){var[f,d]=c,[,p]=l;T.isAncestor(p,d)&&(s=f)}}return u(s,["text"])},next(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection}=t;if(a){var[,i]=D.last(e,a),[,s]=D.last(e,[]),c=[i,s];if(T.isPath(a)&&0===a.length)throw new Error("Cannot get the next node from the root node!");if(null==o)if(T.isPath(a)){var[l]=D.parent(e,a);o=e=>l.children.includes(e)}else o=()=>!0;var[,u]=D.nodes(e,{at:c,match:o,mode:r,voids:n});return u}},node(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=D.path(e,t,r);return[C.get(e,n),n]},*nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,mode:n="all",universal:o=!1,reverse:a=!1,voids:i=!1}=t,{match:s}=t;if(s||(s=()=>!0),r){var c,l;if(S.isSpan(r))c=r[0],l=r[1];else{var u=D.path(e,r,{edge:"start"}),f=D.path(e,r,{edge:"end"});c=a?f:u,l=a?u:f}var d,p=C.nodes(e,{reverse:a,from:c,to:l,pass:t=>{var[r]=t;return!i&&D.isVoid(e,r)}}),h=[];for(var[v,g]of p){var m=d&&0===T.compare(g,d[1]);if("highest"!==n||!m)if(s(v))if("lowest"===n&&m)d=[v,g];else{var y="lowest"===n?d:[v,g];y&&(o?h.push(y):yield y),d=[v,g]}else if(o&&!m&&U.isText(v))return}"lowest"===n&&d&&(o?h.push(d):yield d),o&&(yield*h)}},normalize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:r=!1}=t,n=e=>f.get(e)||[];if(D.isNormalizing(e)){if(r){var o=Array.from(C.nodes(e),e=>{var[,t]=e;return t});f.set(e,o)}0!==n(e).length&&D.withoutNormalizing(e,()=>{for(var t=42*n(e).length,r=0;0!==n(e).length;){if(r>t)throw new Error("\n            Could not completely normalize the editor after ".concat(t," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var o=n(e).pop(),a=D.node(e,o);e.normalizeNode(a),r++}})}},parent(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=D.path(e,t,r),o=T.parent(n);return D.node(e,o)},path(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:n,edge:o}=r;if(T.isPath(t))if("start"===o){var[,a]=C.first(e,t);t=a}else if("end"===o){var[,i]=C.last(e,t);t=i}return W.isRange(t)&&(t="start"===o?W.start(t):"end"===o?W.end(t):T.common(t.anchor.path,t.focus.path)),z.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t},pathRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return D.pathRefs(e).delete(o),o.current=null,t}};return D.pathRefs(e).add(o),o},pathRefs(e){var t=h.get(e);return t||(t=new Set,h.set(e,t)),t},point(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:n="start"}=r;if(T.isPath(t)){var o;if("end"===n){var[,a]=C.last(e,t);o=a}else{var[,i]=C.first(e,t);o=i}var s=C.get(e,o);if(!U.isText(s))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:o,offset:"end"===n?s.text.length:0}}if(W.isRange(t)){var[c,l]=W.edges(t);return"start"===n?c:l}return t},pointRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return D.pointRefs(e).delete(o),o.current=null,t}};return D.pointRefs(e).add(o),o},pointRefs(e){var t=v.get(e);return t||(t=new Set,v.set(e,t)),t},*positions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,unit:n="offset",reverse:o=!1}=t;if(r){var a=D.range(e,r),[i,s]=W.edges(a),l=o?s:i,u="",f=0,d=0,p=null,h=!1,v=()=>{null==p&&(p="character"===n?w(u):"word"===n?(e=>{for(var t,r=0,n=0,o=!1;t=e.charAt(n);){var a=w(t);t=e.slice(n,n+a);var i=e.slice(n+a);if(O(t,i))o=!0,r+=a;else{if(o)break;r+=a}n+=a}return r})(u):"line"===n||"block"===n?u.length:1,u=u.slice(p)),d=o?d-p:d+p,p=(f-=p)>=0?null:0-f};for(var[g,m]of D.nodes(e,{at:r,reverse:o})){if(A.isElement(g)){if(e.isVoid(g)){yield D.start(e,m);continue}if(e.isInline(g))continue;if(D.hasInlines(e,g)){var y=T.isAncestor(m,s.path)?s:D.end(e,m),b=T.isAncestor(m,i.path)?i:D.start(e,m),E=D.string(e,{anchor:b,focus:y});u=o?Object(c.reverse)(E):E,h=!0}}if(U.isText(g)){var x=T.equals(m,l.path);for(f=g.text.length,d=o?f:0,x&&(f=o?l.offset:f-l.offset,d=l.offset),(x||h||"offset"===n)&&(yield{path:m,offset:d});""!==u&&(v(),f>=0);)yield{path:m,offset:d};h=!1}}}},previous(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection}=t;if(a){var[,i]=D.first(e,a),[,s]=D.first(e,[]),c=[i,s];if(T.isPath(a)&&0===a.length)throw new Error("Cannot get the previous node from the root node!");if(null==o)if(T.isPath(a)){var[l]=D.parent(e,a);o=e=>l.children.includes(e)}else o=()=>!0;var[,u]=D.nodes(e,{reverse:!0,at:c,match:o,mode:r,voids:n});return u}},range:(e,t,r)=>W.isRange(t)&&!r?t:{anchor:D.start(e,t),focus:D.end(e,r||t)},rangeRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return D.rangeRefs(e).delete(o),o.current=null,t}};return D.rangeRefs(e).add(o),o},rangeRefs(e){var t=g.get(e);return t||(t=new Set,g.set(e,t)),t},removeMark(e,t){e.removeMark(t)},start:(e,t)=>D.point(e,t,{edge:"start"}),string(e,t){var r=D.range(e,t),[n,o]=W.edges(r),a="";for(var[i,s]of D.nodes(e,{at:r,match:U.isText})){var c=i.text;T.equals(s,o.path)&&(c=c.slice(0,o.offset)),T.equals(s,n.path)&&(c=c.slice(n.offset)),a+=c}return a},transform(e,t){e.children=Object(s.a)(e.children);var r=e.selection&&Object(s.a)(e.selection);switch(t.type){case"insert_node":var{path:n,node:o}=t,a=C.parent(e,n),i=n[n.length-1];if(a.children.splice(i,0,o),r)for(var[c,l]of W.points(r))r[l]=z.transform(c,t);break;case"insert_text":var{path:u,offset:f,text:d}=t,p=C.leaf(e,u),h=p.text.slice(0,f),v=p.text.slice(f);if(p.text=h+d+v,r)for(var[g,m]of W.points(r))r[m]=z.transform(g,t);break;case"merge_node":var{path:y}=t,b=C.get(e,y),w=T.previous(y),O=C.get(e,w),E=C.parent(e,y),x=y[y.length-1];if(U.isText(b)&&U.isText(O))O.text+=b.text;else{if(U.isText(b)||U.isText(O))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(y,"] to nodes of different interaces: ").concat(b," ").concat(O));O.children.push(...b.children)}if(E.children.splice(x,1),r)for(var[j,P]of W.points(r))r[P]=z.transform(j,t);break;case"move_node":var{path:k,newPath:D}=t;if(T.isAncestor(k,D))throw new Error("Cannot move a path [".concat(k,"] to new path [").concat(D,"] because the destination is inside itself."));var A=C.get(e,k),S=C.parent(e,k),B=k[k.length-1];S.children.splice(B,1);var M=T.transform(k,t),N=C.get(e,T.parent(M)),R=M[M.length-1];if(N.children.splice(R,0,A),r)for(var[_,L]of W.points(r))r[L]=z.transform(_,t);break;case"remove_node":var{path:I}=t,q=I[I.length-1];if(C.parent(e,I).children.splice(q,1),r)for(var[H,V]of W.points(r)){var K=z.transform(H,t);if(null!=r&&null!=K)r[V]=K;else{var J=void 0,$=void 0;for(var[X,Y]of C.texts(e)){if(-1!==T.compare(Y,I)){$=[X,Y];break}J=[X,Y]}J?(H.path=J[1],H.offset=J[0].text.length):$?(H.path=$[1],H.offset=0):r=null}}break;case"remove_text":var{path:Z,offset:G,text:Q}=t,ee=C.leaf(e,Z),te=ee.text.slice(0,G),re=ee.text.slice(G+Q.length);if(ee.text=te+re,r)for(var[ne,oe]of W.points(r))r[oe]=z.transform(ne,t);break;case"set_node":var{path:ae,newProperties:ie}=t;if(0===ae.length)throw new Error("Cannot set properties on the root node!");var se=C.get(e,ae);for(var ce in ie){if("children"===ce||"text"===ce)throw new Error('Cannot set the "'.concat(ce,'" property of nodes!'));var le=ie[ce];null==le?delete se[ce]:se[ce]=le}break;case"set_selection":var{newProperties:ue}=t;if(null==ue)r=ue;else if(null==r){if(!W.isRange(ue))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(ue)," when there is no current selection."));r=ue}else Object.assign(r,ue);break;case"split_node":var{path:fe,position:de,properties:pe}=t;if(0===fe.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(fe,"] because the root node cannot be split."));var he,ve=C.get(e,fe),ge=C.parent(e,fe),me=fe[fe.length-1];if(U.isText(ve)){var ye=ve.text.slice(0,de),be=ve.text.slice(de);ve.text=ye,he=F({},ve,{},pe,{text:be})}else{var we=ve.children.slice(0,de),Oe=ve.children.slice(de);ve.children=we,he=F({},ve,{},pe,{children:Oe})}if(ge.children.splice(me+1,0,he),r)for(var[Ee,xe]of W.points(r))r[xe]=z.transform(Ee,t)}e.children=Object(s.b)(e.children),e.selection=r?Object(s.c)(r)?Object(s.b)(r):r:null},unhangRange(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,[o,a]=W.edges(t);if(0!==o.offset||0!==a.offset||W.isCollapsed(t))return t;var i=D.above(e,{at:a,match:t=>D.isBlock(e,t)}),s=i?i[1]:[],c={anchor:D.start(e,[]),focus:a},l=!0;for(var[u,f]of D.nodes(e,{at:c,match:U.isText,reverse:!0,voids:n}))if(l)l=!1;else if(""!==u.text||T.isBefore(f,s)){a={path:f,offset:u.text.length};break}return{anchor:o,focus:a}},void(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D.above(e,F({},t,{match:t=>D.isVoid(e,t)}))},withoutNormalizing(e,t){var r=D.isNormalizing(e);p.set(e,!1),t(),p.set(e,r),D.normalize(e)}},A={isElement:e=>i(e)&&C.isNodeList(e.children)&&!D.isEditor(e),isElementList:e=>Array.isArray(e)&&(0===e.length||A.isElement(e[0])),matches(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},S={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(T.isPath)},C={ancestor(e,t){var r=C.get(e,t);if(U.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},*ancestors(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of T.ancestors(t,r)){var o=[C.ancestor(e,n),n];yield o}},child(e,t){if(U.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},*children(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:n=!1}=r,o=C.ancestor(e,t),{children:a}=o,i=n?a.length-1:0;n?i>=0:i<a.length;){var s=C.child(o,i),c=t.concat(i);yield[s,c],i=n?i-1:i+1}},common(e,t,r){var n=T.common(t,r);return[C.get(e,n),n]},descendant(e,t){var r=C.get(e,t);if(D.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of C.nodes(e,t))0!==n.length&&(yield[r,n])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of C.nodes(e,t))A.isElement(r)&&(yield[r,n])},first(e,t){for(var r=t.slice(),n=C.get(e,r);n&&!U.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(U.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return Object(s.d)(e,e=>{var[r,n]=W.edges(t),o=C.nodes(e,{reverse:!0,pass:e=>{var[,r]=e;return!W.includes(t,r)}});for(var[,a]of o){if(!W.includes(t,a)){var i=C.parent(e,a),s=a[a.length-1];i.children.splice(s,1)}if(T.equals(a,n.path)){var c=C.leaf(e,a);c.text=c.text.slice(0,n.offset)}if(T.equals(a,r.path)){var l=C.leaf(e,a);l.text=l.text.slice(r.offset)}}delete e.selection}).children},get(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(U.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[o]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(U.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode:e=>U.isText(e)||A.isElement(e)||D.isEditor(e),isNodeList:e=>Array.isArray(e)&&(0===e.length||C.isNode(e[0])),last(e,t){for(var r=t.slice(),n=C.get(e,r);n&&!U.isText(n)&&0!==n.children.length;){var o=n.children.length-1;n=n.children[o],r.push(o)}return[n,r]},leaf(e,t){var r=C.get(e,t);if(!U.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},*levels(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of T.levels(t,r)){var o=C.get(e,n);yield[o,n]}},matches:(e,t)=>A.isElement(e)&&A.matches(e,t)||U.isText(e)&&U.matches(e,t),*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:r,reverse:n=!1}=t,{from:o=[],to:a}=t,i=new Set,s=[],c=e;!a||!(n?T.isBefore(s,a):T.isAfter(s,a));)if(i.has(c)||(yield[c,s]),i.has(c)||U.isText(c)||0===c.children.length||null!=r&&!1!==r([c,s])){if(0===s.length)break;if(!n){var l=T.next(s);if(C.has(e,l)){s=l,c=C.get(e,s);continue}}if(n&&0!==s[s.length-1])s=T.previous(s),c=C.get(e,s);else s=T.parent(s),c=C.get(e,s),i.add(c)}else{i.add(c);var u=n?c.children.length-1:0;T.isAncestor(s,o)&&(u=o[s.length]),s=s.concat(u),c=C.get(e,s)}},parent(e,t){var r=T.parent(t),n=C.get(e,r);if(U.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>U.isText(e)?e.text:e.children.map(C.string).join(""),*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of C.nodes(e,t))U.isText(r)&&(yield[r,n])}};function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N={isNodeOperation:e=>N.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!i(e))return!1;switch(e.type){case"insert_node":return T.isPath(e.path)&&C.isNode(e.node);case"insert_text":return"number"==typeof e.offset&&"string"==typeof e.text&&T.isPath(e.path);case"merge_node":return"number"==typeof e.position&&("number"==typeof e.target||null===e.target)&&T.isPath(e.path)&&i(e.properties);case"move_node":return T.isPath(e.path)&&T.isPath(e.newPath);case"remove_node":return T.isPath(e.path)&&C.isNode(e.node);case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&T.isPath(e.path);case"set_node":return T.isPath(e.path)&&i(e.properties)&&i(e.newProperties);case"set_selection":return null===e.properties&&W.isRange(e.newProperties)||null===e.newProperties&&W.isRange(e.properties)||i(e.properties)&&i(e.newProperties);case"split_node":return T.isPath(e.path)&&"number"==typeof e.position&&("number"==typeof e.target||null===e.target)&&i(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&(0===e.length||N.isOperation(e[0])),isSelectionOperation:e=>N.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>N.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return M({},e,{type:"remove_node"});case"insert_text":return M({},e,{type:"remove_text"});case"merge_node":return M({},e,{type:"split_node",path:T.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;return T.equals(t,r)?e:T.isSibling(r,t)?M({},e,{path:t,newPath:r}):M({},e,{path:T.transform(r,e),newPath:T.transform(T.next(r),e)});case"remove_node":return M({},e,{type:"insert_node"});case"remove_text":return M({},e,{type:"insert_text"});case"set_node":var{properties:n,newProperties:o}=e;return M({},e,{properties:o,newProperties:n});case"set_selection":var{properties:a,newProperties:i}=e;return M({},e,null==a?{properties:i,newProperties:null}:null==i?{properties:null,newProperties:a}:{properties:i,newProperties:a});case"split_node":return M({},e,{type:"merge_node",path:T.next(e.path)})}}},T={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=T.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var o=e[n];if(o!==t[n])break;r.push(o)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],i=t[r];return T.equals(n,o)&&a>i},endsAt(e,t){var r=e.length,n=e.slice(0,r),o=t.slice(0,r);return T.equals(n,o)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],i=t[r];return T.equals(n,o)&&a<i},equals:(e,t)=>e.length===t.length&&e.every((e,r)=>e===t[r]),isAfter:(e,t)=>1===T.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===T.compare(e,t),isBefore:(e,t)=>-1===T.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===T.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===T.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===T.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===T.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&T.equals(r,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=[],o=0;o<=e.length;o++)n.push(e.slice(0,o));return r&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!T.isAncestor(t,e)&&!T.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(s.d)(e,n=>{var{affinity:o="forward"}=r;if(0!==e.length)switch(t.type){case"insert_node":var{path:a}=t;(T.equals(a,n)||T.endsBefore(a,n)||T.isAncestor(a,n))&&(n[a.length-1]+=1);break;case"remove_node":var{path:i}=t;if(T.equals(i,n)||T.isAncestor(i,n))return null;T.endsBefore(i,n)&&(n[i.length-1]-=1);break;case"merge_node":var{path:s,position:c}=t;T.equals(s,n)||T.endsBefore(s,n)?n[s.length-1]-=1:T.isAncestor(s,n)&&(n[s.length-1]-=1,n[s.length]+=c);break;case"split_node":var{path:l,position:u}=t;if(T.equals(l,n)){if("forward"===o)n[n.length-1]+=1;else if("backward"!==o)return null}else T.endsBefore(l,n)?n[l.length-1]+=1:T.isAncestor(l,n)&&e[l.length]>=u&&(n[l.length-1]+=1,n[l.length]-=u);break;case"move_node":var{path:f,newPath:d}=t;if(T.equals(f,d))return;if(T.isAncestor(f,n)||T.equals(f,n)){var p=d.slice();return T.endsBefore(f,d)&&f.length<d.length&&(p[f.length-1]-=1),p.concat(n.slice(f.length))}T.isSibling(f,d)&&(T.isAncestor(d,n)||T.equals(d,n))?T.endsBefore(f,n)?n[f.length-1]-=1:n[f.length-1]+=1:T.endsBefore(d,n)||T.equals(d,n)||T.isAncestor(d,n)?(T.endsBefore(f,n)&&(n[f.length-1]-=1),n[d.length-1]+=1):T.endsBefore(f,n)&&(T.equals(d,n)&&(n[d.length-1]+=1),n[f.length-1]-=1)}})}},R={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var o=T.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var z={compare(e,t){var r=T.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>1===z.compare(e,t),isBefore:(e,t)=>-1===z.compare(e,t),equals:(e,t)=>e.offset===t.offset&&T.equals(e.path,t.path),isPoint:e=>i(e)&&"number"==typeof e.offset&&T.isPath(e.path),transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(s.d)(e,e=>{var{affinity:n="forward"}=r,{path:o,offset:a}=e;switch(t.type){case"insert_node":case"move_node":e.path=T.transform(o,t,r);break;case"insert_text":T.equals(t.path,o)&&t.offset<=a&&(e.offset+=t.text.length);break;case"merge_node":T.equals(t.path,o)&&(e.offset+=t.position),e.path=T.transform(o,t,r);break;case"remove_text":T.equals(t.path,o)&&t.offset<=a&&(e.offset-=Math.min(a-t.offset,t.text.length));break;case"remove_node":if(T.equals(t.path,o)||T.isAncestor(t.path,o))return null;e.path=T.transform(o,t,r);break;case"split_node":if(T.equals(t.path,o)){if(t.position===a&&null==n)return null;(t.position<a||t.position===a&&"forward"===n)&&(e.offset-=t.position,e.path=T.transform(o,t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r,{affinity:"forward"})))}else e.path=T.transform(o,t,r)}})}},L={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var o=z.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var W={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:o}=e;return W.isBackward(e)===r?[n,o]:[o,n]},end(e){var[,t]=W.edges(e);return t},equals:(e,t)=>z.equals(e.anchor,t.anchor)&&z.equals(e.focus,t.focus),includes(e,t){if(W.isRange(t)){if(W.includes(e,t.anchor)||W.includes(e,t.focus))return!0;var[r,n]=W.edges(e),[o,a]=W.edges(t);return z.isBefore(r,o)&&z.isAfter(n,a)}var[i,s]=W.edges(e),c=!1,l=!1;return z.isPoint(t)?(c=z.compare(t,i)>=0,l=z.compare(t,s)<=0):(c=T.compare(t,i.path)>=0,l=T.compare(t,s.path)<=0),c&&l},intersection(e,t){var r=u(e,["anchor","focus"]),[n,o]=W.edges(e),[a,i]=W.edges(t),s=z.isBefore(n,a)?a:n,c=z.isBefore(o,i)?o:i;return z.isBefore(c,s)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:s,focus:c},r)},isBackward(e){var{anchor:t,focus:r}=e;return z.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return z.equals(t,r)},isExpanded:e=>!W.isCollapsed(e),isForward:e=>!W.isBackward(e),isRange:e=>i(e)&&z.isPoint(e.anchor)&&z.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=W.edges(e);return t},transform(e,t,r){var n,o,{affinity:a="inward"}=r;return"inward"===a?W.isForward(e)?(n="forward",o="backward"):(n="backward",o="forward"):"outward"===a?W.isForward(e)?(n="backward",o="forward"):(n="forward",o="backward"):(n=a,o=a),Object(s.d)(e,e=>{var r=z.transform(e.anchor,t,{affinity:n}),a=z.transform(e.focus,t,{affinity:o});if(!r||!a)return null;e.anchor=r,e.focus=a})}},q={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var o=W.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U={equals(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=r;for(var o in e)if((!n||"text"!==o)&&e[o]!==t[o])return!1;for(var a in t)if((!n||"text"!==a)&&e[a]!==t[a])return!1;return!0},isText:e=>i(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&(0===e.length||U.isText(e[0])),matches(e,t){for(var r in t)if("text"!==r&&e[r]!==t[r])return!1;return!0},decorations(e,t){var r=[V({},e)];for(var n of t){var o=u(n,["anchor","focus"]),[a,i]=W.edges(n),s=[],c=0;for(var l of r){var{length:f}=l.text,d=c;if(c+=f,a.offset<=d&&i.offset>=d+f)Object.assign(l,o),s.push(l);else if(a.offset>d+f||i.offset<d||i.offset===d&&0!==d)s.push(l);else{var p=l,h=void 0,v=void 0;if(i.offset<d+f){var g=i.offset-d;v=V({},p,{text:p.text.slice(g)}),p=V({},p,{text:p.text.slice(0,g)})}if(a.offset>d){var m=a.offset-d;h=V({},p,{text:p.text.slice(0,m)}),p=V({},p,{text:p.text.slice(m)})}Object.assign(p,o),h&&s.push(h),s.push(p),v&&s.push(v)}}r=s}return r}};function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y={insertNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:o=!1,mode:a="lowest"}=r,{at:i,match:s,select:c}=r;if(C.isNode(t)&&(t=[t]),0!==t.length){var[l]=t;if(i||(i=e.selection?e.selection:e.children.length>0?D.end(e,[]):[0],c=!0),null==c&&(c=!1),W.isRange(i))if(n||(i=D.unhangRange(e,i)),W.isCollapsed(i))i=i.anchor;else{var[,u]=W.edges(i),f=D.pointRef(e,u);re.delete(e,{at:i}),i=f.unref()}if(z.isPoint(i)){null==s&&(s=U.isText(l)?e=>U.isText(e):e.isInline(l)?t=>U.isText(t)||D.isInline(e,t):t=>D.isBlock(e,t));var[d]=D.nodes(e,{at:i.path,match:s,mode:a,voids:o});if(!d)return;var[,p]=d,h=D.pathRef(e,p),v=D.isEnd(e,i,p);re.splitNodes(e,{at:i,match:s,mode:a,voids:o});var g=h.unref();i=v?T.next(g):g}var m=T.parent(i),y=i[i.length-1];if(o||!D.void(e,{at:m})){for(var b of t){var w=m.concat(y);y++,e.apply({type:"insert_node",path:w,node:b})}if(c){var O=D.end(e,i);O&&re.select(e,O)}}}})},liftNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D.withoutNormalizing(e,()=>{var{at:r=e.selection,mode:n="lowest",voids:o=!1}=t,{match:a}=t;if(null==a&&(a=T.isPath(r)?G(e,r):t=>D.isBlock(e,t)),r){var i=D.nodes(e,{at:r,match:a,mode:n,voids:o}),s=Array.from(i,t=>{var[,r]=t;return D.pathRef(e,r)});for(var c of s){var l=c.unref();if(l.length<2)throw new Error("Cannot lift node at a path [".concat(l,"] because it has a depth of less than `2`."));var u=D.node(e,T.parent(l)),[f,d]=u,p=l[l.length-1],{length:h}=f.children;if(1===h){var v=T.next(d);re.moveNodes(e,{at:l,to:v,voids:o}),re.removeNodes(e,{at:d,voids:o})}else if(0===p)re.moveNodes(e,{at:l,to:d,voids:o});else if(p===h-1){var g=T.next(d);re.moveNodes(e,{at:l,to:g,voids:o})}else{var m=T.next(l),y=T.next(d);re.splitNodes(e,{at:m,voids:o}),re.moveNodes(e,{at:l,to:y,voids:o})}}}})},mergeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D.withoutNormalizing(e,()=>{var{match:r,at:n=e.selection}=t,{hanging:o=!1,voids:a=!1,mode:i="lowest"}=t;if(n){if(null==r)if(T.isPath(n)){var[s]=D.parent(e,n);r=e=>s.children.includes(e)}else r=t=>D.isBlock(e,t);if(!o&&W.isRange(n)&&(n=D.unhangRange(e,n)),W.isRange(n))if(W.isCollapsed(n))n=n.anchor;else{var[,c]=W.edges(n),l=D.pointRef(e,c);re.delete(e,{at:n}),n=l.unref(),null==t.at&&re.select(e,n)}var[f]=D.nodes(e,{at:n,match:r,voids:a,mode:i}),d=D.previous(e,{at:n,match:r,voids:a,mode:i});if(f&&d){var[p,h]=f,[v,g]=d;if(0!==h.length&&0!==g.length){var m,y,b=T.next(g),w=T.common(h,g),O=T.isSibling(h,g),E=Array.from(D.levels(e,{at:h}),e=>{var[t]=e;return t}).slice(w.length).slice(0,-1),x=D.above(e,{at:h,mode:"highest",match:e=>E.includes(e)&&A.isElement(e)&&1===e.children.length}),j=x&&D.pathRef(e,x[1]);if(U.isText(p)&&U.isText(v)){var P=u(p,["text"]);y=v.text.length,m=P}else{if(!A.isElement(p)||!A.isElement(v))throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(p)," ").concat(JSON.stringify(v)));P=u(p,["children"]);y=v.children.length,m=P}O||re.moveNodes(e,{at:h,to:b,voids:a}),j&&re.removeNodes(e,{at:j.current,voids:a}),A.isElement(v)&&D.isEmpty(e,v)||U.isText(v)&&""===v.text?re.removeNodes(e,{at:g,voids:a}):e.apply({type:"merge_node",path:b,position:y,target:null,properties:m}),j&&j.unref()}}}})},moveNodes(e,t){D.withoutNormalizing(e,()=>{var{to:r,at:n=e.selection,mode:o="lowest",voids:a=!1}=t,{match:i}=t;if(n){null==i&&(i=T.isPath(n)?G(e,n):t=>D.isBlock(e,t));var s=D.pathRef(e,r),c=D.nodes(e,{at:n,match:i,mode:o,voids:a}),l=Array.from(c,t=>{var[,r]=t;return D.pathRef(e,r)});for(var u of l){var f=u.unref(),d=s.current;0!==f.length&&e.apply({type:"move_node",path:f,newPath:d})}s.unref()}})},removeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:n=!1,mode:o="lowest"}=t,{at:a=e.selection,match:i}=t;if(a){null==i&&(i=T.isPath(a)?G(e,a):t=>D.isBlock(e,t)),!r&&W.isRange(a)&&(a=D.unhangRange(e,a));var s=D.nodes(e,{at:a,match:i,mode:o,voids:n}),c=Array.from(s,t=>{var[,r]=t;return D.pathRef(e,r)});for(var l of c){var u=l.unref();if(u){var[f]=D.node(e,u);e.apply({type:"remove_node",path:u,node:f})}}}})},setNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D.withoutNormalizing(e,()=>{var{match:n,at:o=e.selection}=r,{hanging:a=!1,mode:i="lowest",split:s=!1,voids:c=!1}=r;if(o){if(null==n&&(n=T.isPath(o)?G(e,o):t=>D.isBlock(e,t)),!a&&W.isRange(o)&&(o=D.unhangRange(e,o)),s&&W.isRange(o)){var l=D.rangeRef(e,o,{affinity:"inward"}),[u,f]=W.edges(o),d="lowest"===i?"lowest":"highest";re.splitNodes(e,{at:f,match:n,mode:d,voids:c}),re.splitNodes(e,{at:u,match:n,mode:d,voids:c}),o=l.unref(),null==r.at&&re.select(e,o)}for(var[p,h]of D.nodes(e,{at:o,match:n,mode:i,voids:c})){var v={},g={};if(0!==h.length){for(var m in t)"children"!==m&&"text"!==m&&t[m]!==p[m]&&(v[m]=p[m],g[m]=t[m]);0!==Object.keys(g).length&&e.apply({type:"set_node",path:h,properties:v,newProperties:g})}}}})},splitNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D.withoutNormalizing(e,()=>{var{mode:r="lowest",voids:n=!1}=t,{match:o,at:a=e.selection,height:i=0,always:s=!1}=t;if(null==o&&(o=t=>D.isBlock(e,t)),W.isRange(a)&&(a=Z(e,a)),T.isPath(a)){var c=a,l=D.point(e,c),[f]=D.parent(e,c);o=e=>e===f,i=l.path.length-c.length+1,a=l,s=!0}if(a){var d=D.pointRef(e,a,{affinity:"backward"}),[p]=D.nodes(e,{at:a,match:o,mode:r,voids:n});if(p){var h=D.void(e,{at:a,mode:"highest"});if(!n&&h){var[v,g]=h;if(A.isElement(v)&&e.isInline(v)){var m=D.after(e,g);if(!m){var y=T.next(g);re.insertNodes(e,{text:""},{at:y,voids:n}),m=D.point(e,y)}a=m,s=!0}i=a.path.length-g.length+1,s=!0}var b=D.pointRef(e,a),w=a.path.length-i,[,O]=p,E=a.path.slice(0,w),x=0===i?a.offset:a.path[w]+0,j=null;for(var[P,k]of D.levels(e,{at:E,reverse:!0,voids:n})){var F=!1;if(k.length<O.length||0===k.length||!n&&D.isVoid(e,P))break;var S=d.current,C=D.isEnd(e,S,k);if(s||!d||!D.isEdge(e,S,k)){F=!0;var B=u(P,["text","children"]);e.apply({type:"split_node",path:k,position:x,target:j,properties:B})}j=x,x=k[k.length-1]+(F||C?1:0)}if(null==t.at){var M=b.current||D.end(e,[]);re.select(e,M)}d.unref(),b.unref()}}})},unsetNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var o of t)n[o]=null;re.setNodes(e,n,r)},unwrapNodes(e,t){D.withoutNormalizing(e,()=>{var{mode:r="lowest",split:n=!1,voids:o=!1}=t,{at:a=e.selection,match:i}=t;if(a){null==i&&(i=T.isPath(a)?G(e,a):t=>D.isBlock(e,t)),T.isPath(a)&&(a=D.range(e,a));var s=W.isRange(a)?D.rangeRef(e,a):null,c=D.nodes(e,{at:a,match:i,mode:r,voids:o}),l=Array.from(c,t=>{var[,r]=t;return D.pathRef(e,r)}),u=function(t){var r=t.unref(),[a]=D.node(e,r),i=D.range(e,r);n&&s&&(i=W.intersection(s.current,i)),re.liftNodes(e,{at:i,match:e=>a.children.includes(e),voids:o})};for(var f of l)u(f);s&&s.unref()}})},wrapNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D.withoutNormalizing(e,()=>{var{mode:n="lowest",split:o=!1,voids:a=!1}=r,{match:i,at:s=e.selection}=r;if(s){if(null==i&&(i=T.isPath(s)?G(e,s):e.isInline(t)?t=>D.isInline(e,t)||U.isText(t):t=>D.isBlock(e,t)),o&&W.isRange(s)){var[c,l]=W.edges(s),u=D.rangeRef(e,s,{affinity:"inward"});re.splitNodes(e,{at:l,match:i,voids:a}),re.splitNodes(e,{at:c,match:i,voids:a}),s=u.unref(),null==r.at&&re.select(e,s)}var f=Array.from(D.nodes(e,{at:s,match:e.isInline(t)?t=>D.isBlock(e,t):e=>D.isEditor(e),mode:"lowest",voids:a}));for(var[,d]of f){var p=W.isRange(s)?W.intersection(s,D.range(e,d)):s;if(p){var h=Array.from(D.nodes(e,{at:p,match:i,mode:n,voids:a}));h.length>0&&function(){var[r]=h,n=h[h.length-1],[,o]=r,[,i]=n,s=T.equals(o,i)?T.parent(o):T.common(o,i),c=D.range(e,o,i),l=D.node(e,s),[u]=l,f=s.length+1,d=T.next(i.slice(0,f)),p=X({},t,{children:[]});re.insertNodes(e,p,{at:d,voids:a}),re.moveNodes(e,{at:c,match:e=>u.children.includes(e),to:d.concat(0),voids:a})}()}}}})}},Z=(e,t)=>{if(W.isCollapsed(t))return t.anchor;var[,r]=W.edges(t),n=D.pointRef(e,r);return re.delete(e,{at:t}),n.unref()},G=(e,t)=>{var[r]=D.node(e,t);return e=>e===r};function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var re=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{transform(e,t){e.children=Object(s.a)(e.children);var r=e.selection&&Object(s.a)(e.selection);switch(t.type){case"insert_node":var{path:n,node:o}=t,a=C.parent(e,n),i=n[n.length-1];if(a.children.splice(i,0,o),r)for(var[c,l]of W.points(r))r[l]=z.transform(c,t);break;case"insert_text":var{path:u,offset:f,text:d}=t,p=C.leaf(e,u),h=p.text.slice(0,f),v=p.text.slice(f);if(p.text=h+d+v,r)for(var[g,m]of W.points(r))r[m]=z.transform(g,t);break;case"merge_node":var{path:y}=t,b=C.get(e,y),w=T.previous(y),O=C.get(e,w),E=C.parent(e,y),x=y[y.length-1];if(U.isText(b)&&U.isText(O))O.text+=b.text;else{if(U.isText(b)||U.isText(O))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(y,"] to nodes of different interaces: ").concat(b," ").concat(O));O.children.push(...b.children)}if(E.children.splice(x,1),r)for(var[j,P]of W.points(r))r[P]=z.transform(j,t);break;case"move_node":var{path:k,newPath:F}=t;if(T.isAncestor(k,F))throw new Error("Cannot move a path [".concat(k,"] to new path [").concat(F,"] because the destination is inside itself."));var D=C.get(e,k),A=C.parent(e,k),S=k[k.length-1];A.children.splice(S,1);var B=T.transform(k,t),M=C.get(e,T.parent(B)),N=B[B.length-1];if(M.children.splice(N,0,D),r)for(var[R,_]of W.points(r))r[_]=z.transform(R,t);break;case"remove_node":var{path:L}=t,I=L[L.length-1];if(C.parent(e,L).children.splice(I,1),r)for(var[q,H]of W.points(r)){var V=z.transform(q,t);if(null!=r&&null!=V)r[H]=V;else{var K=void 0,$=void 0;for(var[X,Y]of C.texts(e)){if(-1!==T.compare(Y,L)){$=[X,Y];break}K=[X,Y]}K?(q.path=K[1],q.offset=K[0].text.length):$?(q.path=$[1],q.offset=0):r=null}}break;case"remove_text":var{path:Z,offset:G,text:Q}=t,ee=C.leaf(e,Z),te=ee.text.slice(0,G),re=ee.text.slice(G+Q.length);if(ee.text=te+re,r)for(var[ne,oe]of W.points(r))r[oe]=z.transform(ne,t);break;case"set_node":var{path:ae,newProperties:ie}=t;if(0===ae.length)throw new Error("Cannot set properties on the root node!");var se=C.get(e,ae);for(var ce in ie){if("children"===ce||"text"===ce)throw new Error('Cannot set the "'.concat(ce,'" property of nodes!'));var le=ie[ce];null==le?delete se[ce]:se[ce]=le}break;case"set_selection":var{newProperties:ue}=t;if(null==ue)r=ue;else if(null==r){if(!W.isRange(ue))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(ue)," when there is no current selection."));r=ue}else Object.assign(r,ue);break;case"split_node":var{path:fe,position:de,properties:pe}=t;if(0===fe.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(fe,"] because the root node cannot be split."));var he,ve=C.get(e,fe),ge=C.parent(e,fe),me=fe[fe.length-1];if(U.isText(ve)){var ye=ve.text.slice(0,de),be=ve.text.slice(de);ve.text=ye,he=J({},ve,{},pe,{text:be})}else{var we=ve.children.slice(0,de),Oe=ve.children.slice(de);ve.children=we,he=J({},ve,{},pe,{children:Oe})}if(ge.children.splice(me+1,0,he),r)for(var[Ee,xe]of W.points(r))r[xe]=z.transform(Ee,t)}e.children=Object(s.b)(e.children),e.selection=r?Object(s.c)(r)?Object(s.b)(r):r:null}},{},Y,{},{collapse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n)if("anchor"===r)re.select(e,n.anchor);else if("focus"===r)re.select(e,n.focus);else if("start"===r){var[o]=W.edges(n);re.select(e,o)}else if("end"===r){var[,a]=W.edges(n);re.select(e,a)}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:o="character",reverse:a=!1}=t,{edge:i=null}=t;if(r){"start"===i&&(i=W.isBackward(r)?"focus":"anchor"),"end"===i&&(i=W.isBackward(r)?"anchor":"focus");var{anchor:s,focus:c}=r,l={distance:n,unit:o},u={};if(null==i||"anchor"===i){var f=a?D.before(e,s,l):D.after(e,s,l);f&&(u.anchor=f)}if(null==i||"focus"===i){var d=a?D.before(e,c,l):D.after(e,c,l);d&&(u.focus=d)}re.setSelection(e,u)}},select(e,t){var{selection:r}=e;if(t=D.range(e,t),r)re.setSelection(e,t);else{if(!W.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}},setPoint(e,t,r){var{selection:n}=e,{edge:o="both"}=r;if(n){"start"===o&&(o=W.isBackward(n)?"focus":"anchor"),"end"===o&&(o=W.isBackward(n)?"anchor":"focus");var{anchor:a,focus:i}=n,s="anchor"===o?a:i;re.setSelection(e,{["anchor"===o?"anchor":"focus"]:ee({},s,{},t)})}},setSelection(e,t){var{selection:r}=e,n={},o={};if(r){for(var a in t)("anchor"===a&&null!=t.anchor&&!z.equals(t.anchor,r.anchor)||"focus"===a&&null!=t.focus&&!z.equals(t.focus,r.focus)||"anchor"!==a&&"focus"!==a&&t[a]!==r[a])&&(n[a]=r[a],o[a]=t[a]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:o})}}},{},{delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D.withoutNormalizing(e,()=>{var{reverse:r=!1,unit:n="character",distance:o=1,voids:a=!1}=t,{at:i=e.selection,hanging:s=!1}=t;if(i){if(W.isRange(i)&&W.isCollapsed(i)&&(i=i.anchor),z.isPoint(i)){var c=D.void(e,{at:i,mode:"highest"});if(!a&&c){var[,l]=c;i=l}else{var u={unit:n,distance:o};i={anchor:i,focus:r?D.before(e,i,u)||D.start(e,[]):D.after(e,i,u)||D.end(e,[])},s=!0}}if(T.isPath(i))re.removeNodes(e,{at:i,voids:a});else if(!W.isCollapsed(i)){s||(i=D.unhangRange(e,i,{voids:a}));var[f,d]=W.edges(i),p=D.above(e,{match:t=>D.isBlock(e,t),at:f,voids:a}),h=D.above(e,{match:t=>D.isBlock(e,t),at:d,voids:a}),v=p&&h&&!T.equals(p[1],h[1]),g=T.equals(f.path,d.path),m=a?null:D.void(e,{at:f,mode:"highest"}),y=a?null:D.void(e,{at:d,mode:"highest"});if(m){var b=D.before(e,f);b&&p&&T.isAncestor(p[1],b.path)&&(f=b)}if(y){var w=D.after(e,d);w&&h&&T.isAncestor(h[1],w.path)&&(d=w)}var O,E=[];for(var x of D.nodes(e,{at:i,voids:a})){var[j,P]=x;O&&0===T.compare(P,O)||(!a&&D.isVoid(e,j)||!T.isCommon(P,f.path)&&!T.isCommon(P,d.path))&&(E.push(x),O=P)}var k=Array.from(E,t=>{var[,r]=t;return D.pathRef(e,r)}),F=D.pointRef(e,f),A=D.pointRef(e,d);if(!g&&!m){var S=F.current,[C]=D.leaf(e,S),{path:B}=S,{offset:M}=f,N=C.text.slice(M);e.apply({type:"remove_text",path:B,offset:M,text:N})}for(var R of k){var _=R.unref();re.removeNodes(e,{at:_,voids:a})}if(!y){var L=A.current,[I]=D.leaf(e,L),{path:q}=L,H=g?f.offset:0,V=I.text.slice(H,d.offset);e.apply({type:"remove_text",path:q,offset:H,text:V})}!g&&v&&A.current&&F.current&&re.mergeNodes(e,{at:A.current,hanging:!0,voids:a});var U=A.unref()||F.unref();null==t.at&&U&&re.select(e,U)}}})},insertFragment(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:o=!1}=r,{at:a=e.selection}=r;if(t.length&&a){if(W.isRange(a))if(n||(a=D.unhangRange(e,a)),W.isCollapsed(a))a=a.anchor;else{var[,i]=W.edges(a);if(!o&&D.void(e,{at:i}))return;var s=D.pointRef(e,i);re.delete(e,{at:a}),a=s.unref()}else T.isPath(a)&&(a=D.start(e,a));if(o||!D.void(e,{at:a})){var c=D.above(e,{at:a,match:t=>D.isInline(e,t),mode:"highest",voids:o});if(c){var[,l]=c;if(D.isEnd(e,a,l))a=D.after(e,l);else if(D.isStart(e,a,l)){a=D.before(e,l)}}var u=D.above(e,{match:t=>D.isBlock(e,t),at:a,voids:o}),[,f]=u,d=D.isStart(e,a,f),p=D.isEnd(e,a,f),h=!d||d&&p,v=!p,[,g]=C.first({children:t},[]),[,m]=C.last({children:t},[]),y=[],b=t=>{var[r,n]=t;return!(h&&T.isAncestor(n,g)&&A.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))&&!(v&&T.isAncestor(n,m)&&A.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))};for(var w of C.nodes({children:t},{pass:b}))w[1].length>0&&b(w)&&y.push(w);var O=[],E=[],x=[],j=!0,P=!1;for(var[k]of y)A.isElement(k)&&!e.isInline(k)?(j=!1,P=!0,E.push(k)):j?O.push(k):x.push(k);var[F]=D.nodes(e,{at:a,match:t=>U.isText(t)||D.isInline(e,t),mode:"highest",voids:o}),[,S]=F,B=D.isStart(e,a,S),M=D.isEnd(e,a,S),N=D.pathRef(e,p?T.next(f):f),R=D.pathRef(e,M?T.next(S):S);re.splitNodes(e,{at:a,match:t=>P?D.isBlock(e,t):U.isText(t)||D.isInline(e,t),mode:P?"lowest":"highest",voids:o});var _=D.pathRef(e,!B||B&&M?T.next(S):S);if(re.insertNodes(e,O,{at:_.current,match:t=>U.isText(t)||D.isInline(e,t),mode:"highest",voids:o}),re.insertNodes(e,E,{at:N.current,match:t=>D.isBlock(e,t),mode:"lowest",voids:o}),re.insertNodes(e,x,{at:R.current,match:t=>U.isText(t)||D.isInline(e,t),mode:"highest",voids:o}),!r.at){var z;z=x.length>0?T.previous(R.current):E.length>0?T.previous(N.current):T.previous(_.current);var L=D.end(e,z);re.select(e,L)}_.unref(),N.unref(),R.unref()}}})},insertText(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D.withoutNormalizing(e,()=>{var{voids:n=!1}=r,{at:o=e.selection}=r;if(o){if(T.isPath(o)&&(o=D.range(e,o)),W.isRange(o))if(W.isCollapsed(o))o=o.anchor;else{var a=W.end(o);if(!n&&D.void(e,{at:a}))return;var i=D.pointRef(e,a);re.delete(e,{at:o,voids:n}),o=i.unref(),re.setSelection(e,{anchor:o,focus:o})}if(n||!D.void(e,{at:o})){var{path:s,offset:c}=o;e.apply({type:"insert_text",path:s,offset:c,text:t})}}})}});function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:t=>{for(var r of D.pathRefs(e))R.transform(r,t);for(var n of D.pointRefs(e))L.transform(n,t);for(var o of D.rangeRefs(e))q.transform(o,t);var a=new Set,i=[],s=e=>{if(e){var t=e.join(",");a.has(t)||(a.add(t),i.push(e))}},c=f.get(e)||[],l=ie(t);for(var u of c){s(T.transform(u,t))}for(var p of l)s(p);f.set(e,i),D.transform(e,t),e.operations.push(t),D.normalize(e),"set_selection"===t.type&&(e.marks=null),d.get(e)||(d.set(e,!0),Promise.resolve().then(()=>{d.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(t,r)=>{var{selection:n}=e;if(n)if(W.isExpanded(n))re.setNodes(e,{[t]:r},{match:U.isText,split:!0});else{var o=oe({},D.marks(e)||{},{[t]:r});e.marks=o,e.onChange()}},deleteBackward:t=>{var{selection:r}=e;r&&W.isCollapsed(r)&&re.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:r}=e;r&&W.isCollapsed(r)&&re.delete(e,{unit:t})},deleteFragment:()=>{var{selection:t}=e;t&&W.isExpanded(t)&&re.delete(e)},getFragment:()=>{var{selection:t}=e;return t?C.fragment(e,t):[]},insertBreak:()=>{re.splitNodes(e,{always:!0})},insertFragment:t=>{re.insertFragment(e,t)},insertNode:t=>{re.insertNodes(e,t)},insertText:t=>{var{selection:r,marks:n}=e;if(r){if(W.isCollapsed(r)){var o=D.above(e,{match:t=>D.isInline(e,t),mode:"highest"});if(o){var[,a]=o;if(D.isEnd(e,r.anchor,a)){var i=D.after(e,a);re.setSelection(e,{anchor:i,focus:i})}}}if(n){var s=oe({text:t},n);re.insertNodes(e,s)}else re.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[r,n]=t;if(!U.isText(r))if(A.isElement(r)&&0===r.children.length){re.insertNodes(e,{text:""},{at:n.concat(0),voids:!0})}else for(var o=!D.isEditor(r)&&(A.isElement(r)&&(e.isInline(r)||0===r.children.length||U.isText(r.children[0])||e.isInline(r.children[0]))),a=0,i=0;i<r.children.length;i++,a++){var s=r.children[i],c=r.children[i-1],l=i===r.children.length-1;if((U.isText(s)||A.isElement(s)&&e.isInline(s))!==o)re.removeNodes(e,{at:n.concat(a),voids:!0}),a--;else if(A.isElement(s)){if(e.isInline(s))if(null!=c&&U.isText(c)){if(l){re.insertNodes(e,{text:""},{at:n.concat(a+1),voids:!0}),a++}}else{re.insertNodes(e,{text:""},{at:n.concat(a),voids:!0}),a++}}else null!=c&&U.isText(c)&&(U.equals(s,c,{loose:!0})?(re.mergeNodes(e,{at:n.concat(a),voids:!0}),a--):""===c.text?(re.removeNodes(e,{at:n.concat(a-1),voids:!0}),a--):l&&""===s.text&&(re.removeNodes(e,{at:n.concat(a),voids:!0}),a--))}},removeMark:t=>{var{selection:r}=e;if(r)if(W.isExpanded(r))re.unsetNodes(e,t,{match:U.isText,split:!0});else{var n=oe({},D.marks(e)||{});delete n[t],e.marks=n,e.onChange()}}};return e},ie=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var{path:t}=e;return T.levels(t);case"insert_node":var{node:r,path:n}=e;return[...T.levels(n),...U.isText(r)?[]:Array.from(C.nodes(r),e=>{var[,t]=e;return n.concat(t)})];case"merge_node":var{path:o}=e;return[...T.ancestors(o),T.previous(o)];case"move_node":var{path:a,newPath:i}=e;if(T.equals(a,i))return[];var s=[],c=[];for(var l of T.ancestors(a)){var u=T.transform(l,e);s.push(u)}for(var f of T.ancestors(i)){var d=T.transform(f,e);c.push(d)}return[...s,...c];case"remove_node":var{path:p}=e;return[...T.ancestors(p)];case"split_node":var{path:h}=e;return[...T.levels(h),T.next(h)];default:return[]}},se=r(8),ce=r.n(se);function le(e){return null!=e&&"object"==typeof e&&1===e.nodeType}function ue(e,t){return(!t||"hidden"!==e)&&("visible"!==e&&"clip"!==e)}function fe(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return ue(r.overflowY,t)||ue(r.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function de(e,t,r,n,o,a,i,s){return a<e&&i>t||a>e&&i<t?0:a<=e&&s<=r||i>=t&&s>=r?a-e-n:i>t&&s<r||a<e&&s>r?i-t+o:0}var pe=function(e,t){var r=t.scrollMode,n=t.block,o=t.inline,a=t.boundary,i=t.skipOverflowHiddenElements,s="function"==typeof a?a:function(e){return e!==a};if(!le(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,l=[],u=e;le(u)&&s(u);){if((u=u.parentNode)===c){l.push(u);break}u===document.body&&fe(u)&&!fe(document.documentElement)||fe(u,i)&&l.push(u)}for(var f=window.visualViewport?visualViewport.width:innerWidth,d=window.visualViewport?visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,h=window.scrollY||pageYOffset,v=e.getBoundingClientRect(),g=v.height,m=v.width,y=v.top,b=v.right,w=v.bottom,O=v.left,E="start"===n||"nearest"===n?y:"end"===n?w:y+g/2,x="center"===o?O+m/2:"end"===o?b:O,j=[],P=0;P<l.length;P++){var k=l[P],F=k.getBoundingClientRect(),D=F.height,A=F.width,S=F.top,C=F.right,B=F.bottom,M=F.left;if("if-needed"===r&&y>=0&&O>=0&&w<=d&&b<=f&&y>=S&&w<=B&&O>=M&&b<=C)return j;var N=getComputedStyle(k),T=parseInt(N.borderLeftWidth,10),R=parseInt(N.borderTopWidth,10),_=parseInt(N.borderRightWidth,10),z=parseInt(N.borderBottomWidth,10),L=0,I=0,W="offsetWidth"in k?k.offsetWidth-k.clientWidth-T-_:0,q="offsetHeight"in k?k.offsetHeight-k.clientHeight-R-z:0;if(c===k)L="start"===n?E:"end"===n?E-d:"nearest"===n?de(h,h+d,d,R,z,h+E,h+E+g,g):E-d/2,I="start"===o?x:"center"===o?x-f/2:"end"===o?x-f:de(p,p+f,f,T,_,p+x,p+x+m,m),L=Math.max(0,L+h),I=Math.max(0,I+p);else{L="start"===n?E-S-R:"end"===n?E-B+z+q:"nearest"===n?de(S,B,D,R,z+q,E,E+g,g):E-(S+D/2)+q/2,I="start"===o?x-M-T:"center"===o?x-(M+A/2)+W/2:"end"===o?x-C+_+W:de(M,C,A,T,_+W,x,x+m,m);var H=k.scrollLeft,V=k.scrollTop;E+=V-(L=Math.max(0,Math.min(V+L,k.scrollHeight-D+q))),x+=H-(I=Math.max(0,Math.min(H+I,k.scrollWidth-A+W)))}j.push({el:k,top:L,left:I})}return j};function he(e){return e===Object(e)&&0!==Object.keys(e).length}var ve=function(e,t){var r=!e.ownerDocument.documentElement.contains(e);if(he(t)&&"function"==typeof t.behavior)return t.behavior(r?[]:pe(e,t));if(!r){var n=function(e){return!1===e?{block:"end",inline:"nearest"}:he(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach((function(e){var n=e.el,o=e.top,a=e.left;n.scroll&&r?n.scroll({top:o,left:a,behavior:t}):(n.scrollTop=o,n.scrollLeft=a)}))}(pe(e,n),n.behavior)}},ge=r(9),me=r.n(ge),ye=r(10),be=r.n(ye),we=r(2);function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ee(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var xe=0;class je{constructor(){this.id="".concat(xe++)}}var Pe=new WeakMap,ke=new WeakMap,Fe=new WeakMap,De=new WeakMap,Ae=new WeakMap,Se=new WeakMap,Ce=new WeakMap,Be=new WeakMap,Me=new WeakMap,Ne=new WeakMap,Te=Symbol("placeholder"),Re=e=>_e(e)&&1===e.nodeType,_e=e=>e instanceof Node,ze=e=>_e(e)&&3===e.nodeType,Le=(e,t,r)=>{for(var n,{childNodes:o}=e,a=o[t],i=t,s=!1,c=!1;(_e(n=a)&&8===n.nodeType||Re(a)&&0===a.childNodes.length||Re(a)&&"false"===a.getAttribute("contenteditable"))&&(!s||!c);)i>=o.length?(s=!0,i=t-1,r="backward"):i<0?(c=!0,i=t+1,r="forward"):(a=o[i],i+="forward"===r?1:-1);return a},Ie=e=>{var t="";if(ze(e)&&e.nodeValue)return e.nodeValue;if(Re(e)){for(var r of Array.from(e.childNodes))t+=Ie(r);var n=getComputedStyle(e).getPropertyValue("display");"block"!==n&&"list"!==n&&"BR"!==e.tagName||(t+="\n")}return t},We={findKey(e,t){var r=Ce.get(t);return r||(r=new je,Ce.set(t,r)),r},findPath(e,t){for(var r=[],n=t;;){var o=ke.get(n);if(null==o){if(D.isEditor(n))return r;break}var a=Pe.get(n);if(null==a)break;r.unshift(a),n=o}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},isFocused:e=>!!Me.get(e),isReadOnly:e=>!!Be.get(e),blur(e){var t=We.toDOMNode(e,e);Me.set(e,!1),window.document.activeElement===t&&t.blur()},focus(e){var t=We.toDOMNode(e,e);Me.set(e,!0),window.document.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){var{selection:t}=e,r=window.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&re.deselect(e)},hasDOMNode(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:o=!1}=n,a=We.toDOMNode(e,e);try{r=Re(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!r&&(r.closest("[data-slate-editor]")===a&&(!o||r.isContentEditable||!!r.getAttribute("data-slate-zero-width")))},insertData(e,t){e.insertData(t)},setFragmentData(e,t){e.setFragmentData(t)},toDOMNode(e,t){var r=D.isEditor(t)?Fe.get(e):Ae.get(We.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return r},toDOMPoint(e,t){var r,[n]=D.node(e,t.path),o=We.toDOMNode(e,n);D.void(e,{at:t})&&(t={path:t.path,offset:0});var a=Array.from(o.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),i=0;for(var s of a){var c=s.childNodes[0];if(null!=c&&null!=c.textContent){var{length:l}=c.textContent,u=s.getAttribute("data-slate-length"),f=i+(null==u?l:parseInt(u,10));if(t.offset<=f){r=[c,Math.min(l,Math.max(0,t.offset-i))];break}i=f}}if(!r)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return r},toDOMRange(e,t){var{anchor:r,focus:n}=t,o=W.isBackward(t),a=We.toDOMPoint(e,r),i=W.isCollapsed(t)?a:We.toDOMPoint(e,n),s=window.document.createRange(),[c,l]=o?i:a,[u,f]=o?a:i,d=!!(Re(c)?c:c.parentElement).getAttribute("data-slate-zero-width"),p=!!(Re(u)?u:u.parentElement).getAttribute("data-slate-zero-width");return s.setStart(c,d?1:l),s.setEnd(u,p?1:f),s},toSlateNode(e,t){var r=Re(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?De.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:r,clientY:n,target:o}=t;if(null==r||null==n)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var a,i=We.toSlateNode(e,t.target),s=We.findPath(e,i);if(D.isVoid(e,i)){var c=o.getBoundingClientRect(),l=e.isInline(i)?r-c.left<c.left+c.width-r:n-c.top<c.top+c.height-n,u=D.point(e,s,{edge:l?"start":"end"}),f=l?D.before(e,u):D.after(e,u);if(f)return D.range(e,f)}var{document:d}=window;if(d.caretRangeFromPoint)a=d.caretRangeFromPoint(r,n);else{var p=d.caretPositionFromPoint(r,n);p&&((a=d.createRange()).setStart(p.offsetNode,p.offset),a.setEnd(p.offsetNode,p.offset))}if(!a)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return We.toSlateRange(e,a)},toSlatePoint(e,t){var[r,n]=(e=>{var[t,r]=e;if(Re(t)&&t.childNodes.length){var n=r===t.childNodes.length,o=n?"backward":"forward";for(t=Le(t,n?r-1:r,o);Re(t)&&t.childNodes.length;){var a=n?t.childNodes.length-1:0;t=Le(t,a,o)}r=n&&null!=t.textContent?t.textContent.length:0}return[t,r]})(t),o=r.parentNode,a=null,i=0;if(o){var s=o.closest('[data-slate-void="true"]'),c=o.closest("[data-slate-leaf]"),l=null;if(c){a=c.closest('[data-slate-node="text"]');var u=window.document.createRange();u.setStart(a,0),u.setEnd(r,n);var f=u.cloneContents();[...f.querySelectorAll("[data-slate-zero-width]"),...f.querySelectorAll("[contenteditable=false]")].forEach(e=>{e.parentNode.removeChild(e)}),i=f.textContent.length,l=a}else s&&(a=(c=s.querySelector("[data-slate-leaf]")).closest('[data-slate-node="text"]'),i=(l=c).textContent.length);l&&i===l.textContent.length&&o.hasAttribute("data-slate-zero-width")&&i--}if(!a)throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t));var d=We.toSlateNode(e,a);return{path:We.findPath(e,d),offset:i}},toSlateRange(e,t){var r,n,o,a,i;if((t instanceof Selection?t.anchorNode:t.startContainer)&&(t instanceof Selection?(r=t.anchorNode,n=t.anchorOffset,o=t.focusNode,a=t.focusOffset,i=t.isCollapsed):(r=t.startContainer,n=t.startOffset,o=t.endContainer,a=t.endOffset,i=t.collapsed)),null==r||null==o||null==n||null==a)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var s=We.toSlatePoint(e,[r,n]);return{anchor:s,focus:i?s:We.toSlatePoint(e,[o,a])}}},qe=Object(n.createContext)(!1),He=Object(n.createContext)(null),Ve=()=>{var e=Object(n.useContext)(He);if(!e)throw new Error("The `useEditor` hook must be used inside the <Slate> component's context.");return e},Ue=Object(n.createContext)(null),Ke=()=>{var e=Object(n.useContext)(Ue);if(!e)throw new Error("The `useSlate` hook must be used inside the <SlateProvider> component's context.");var[t]=e;return t},Je=e=>{var{editor:t,children:r,onChange:a,value:i}=e,s=Ee(e,["editor","children","onChange","value"]),[c,l]=Object(n.useState)(0),u=Object(n.useMemo)(()=>(t.children=i,Object.assign(t,s),[t]),[c,i,...Object.values(s)]),f=Object(n.useCallback)(()=>{a(t.children),l(c+1)},[c,a]);return Ne.set(t,f),Object(n.useEffect)(()=>()=>{Ne.set(t,()=>{})},[]),o.a.createElement(Ue.Provider,{value:u},o.a.createElement(He.Provider,{value:t},o.a.createElement(qe.Provider,{value:We.isFocused(t)},r)))},$e=Object(n.createContext)(!1),Xe=Object(n.createContext)(!1),Ye=e=>{var t=e,{apply:r,onChange:n}=t;return t.apply=e=>{var n=[];switch(e.type){case"insert_text":case"remove_text":case"set_node":for(var[o,a]of D.levels(t,{at:e.path})){var i=We.findKey(t,o);n.push([a,i])}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":for(var[s,c]of D.levels(t,{at:T.parent(e.path)})){var l=We.findKey(t,s);n.push([c,l])}}for(var[u,f]of(r(e),n)){var[d]=D.node(t,u);Ce.set(d,f)}},t.setFragmentData=e=>{var{selection:r}=t;if(r){var[n,o]=W.edges(r),a=D.void(t,{at:n.path}),i=D.void(t,{at:o.path});if(!W.isCollapsed(r)||a){var s=We.toDOMRange(t,r),c=s.cloneContents(),l=c.childNodes[0];if(c.childNodes.forEach(e=>{e.textContent&&""!==e.textContent.trim()&&(l=e)}),i){var[u]=i,f=s.cloneRange(),d=We.toDOMNode(t,u);f.setEndAfter(d),c=f.cloneContents()}if(a&&(l=c.querySelector("[data-slate-spacer]")),Array.from(c.querySelectorAll("[data-slate-zero-width]")).forEach(e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""}),ze(l)){var p=document.createElement("span");p.style.whiteSpace="pre",p.appendChild(l),c.appendChild(p),l=p}var h=t.getFragment(),v=JSON.stringify(h),g=window.btoa(encodeURIComponent(v));l.setAttribute("data-slate-fragment",g),e.setData("application/x-slate-fragment",g);var m=document.createElement("div");m.appendChild(c),m.setAttribute("hidden","true"),document.body.appendChild(m),e.setData("text/html",m.innerHTML),e.setData("text/plain",Ie(m)),document.body.removeChild(m)}}},t.insertData=e=>{var r=e.getData("application/x-slate-fragment");if(r){var n=decodeURIComponent(window.atob(r)),o=JSON.parse(n);re.insertFragment(t,o)}else{var a=e.getData("text/plain");if(a){var i=a.split(/\r\n|\r|\n/),s=!1;for(var c of i)s&&re.splitNodes(t,{always:!0}),re.insertText(t,c),s=!0}}},t.onChange=()=>{be.a.unstable_batchedUpdates(()=>{var e=Ne.get(t);e&&e(),n()})},t},Ze=e=>{var{isLast:t,leaf:r,parent:n,text:a}=e,i=Ve(),s=We.findPath(i,a),c=T.parent(s);return i.isVoid(n)?o.a.createElement(Qe,{length:C.string(n).length}):""!==r.text||n.children[n.children.length-1]!==a||i.isInline(n)||""!==D.string(i,c)?""===r.text?o.a.createElement(Qe,null):t&&"\n"===r.text.slice(-1)?o.a.createElement(Ge,{isTrailing:!0,text:r.text}):o.a.createElement(Ge,{text:r.text}):o.a.createElement(Qe,{isLineBreak:!0})},Ge=e=>{var{text:t,isTrailing:r=!1}=e;return o.a.createElement("span",{"data-slate-string":!0},t,r?"\n":null)},Qe=e=>{var{length:t=0,isLineBreak:r=!1}=e;return o.a.createElement("span",{"data-slate-zero-width":r?"n":"z","data-slate-length":t},"\ufeff",r?o.a.createElement("br",null):null)},et=o.a.memo(e=>{var{leaf:t,isLast:r,text:n,parent:a,renderLeaf:i=(e=>o.a.createElement(tt,Object.assign({},e)))}=e,s=o.a.createElement(Ze,{isLast:r,leaf:t,parent:a,text:n});t[Te]&&(s=o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{contentEditable:!1,style:{pointerEvents:"none",display:"inline-block",verticalAlign:"text-top",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333",userSelect:"none",fontStyle:"normal",fontWeight:"normal",textDecoration:"none"}},t.placeholder),s));return i({attributes:{"data-slate-leaf":!0},children:s,leaf:t,text:n})},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&U.matches(t.leaf,e.leaf)),tt=e=>{var{attributes:t,children:r}=e;return o.a.createElement("span",Object.assign({},t),r)},rt="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,nt=o.a.memo(e=>{for(var{decorations:t,isLast:r,parent:a,renderLeaf:i,text:s}=e,c=Ve(),l=Object(n.useRef)(null),u=U.decorations(s,t),f=We.findKey(c,s),d=[],p=0;p<u.length;p++){var h=u[p];d.push(o.a.createElement(et,{isLast:r&&p===u.length-1,key:"".concat(f.id,"-").concat(p),leaf:h,text:s,parent:a,renderLeaf:i}))}return rt(()=>{l.current?(Ae.set(f,l.current),Se.set(s,l.current),De.set(l.current,s)):(Ae.delete(f),Se.delete(s))}),o.a.createElement("span",{"data-slate-node":"text",ref:l},d)},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text),ot=o.a.memo(e=>{var{decorate:t,decorations:r,element:a,renderElement:i=(e=>o.a.createElement(at,Object.assign({},e))),renderLeaf:s,selection:c}=e,l=Object(n.useRef)(null),u=Ve(),f=Object(n.useContext)($e),d=u.isInline(a),p=We.findKey(u,a),h=o.a.createElement(st,{decorate:t,decorations:r,node:a,renderElement:i,renderLeaf:s,selection:c}),v={"data-slate-node":"element",ref:l};if(d&&(v["data-slate-inline"]=!0),!d&&D.hasInlines(u,a)){var g=C.string(a),m=me()(g);"rtl"===m&&(v.dir=m)}if(D.isVoid(u,a)){v["data-slate-void"]=!0,!f&&d&&(v.contentEditable=!1);var y=d?"span":"div",[[b]]=C.texts(a);h=f?null:o.a.createElement(y,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},o.a.createElement(nt,{decorations:[],isLast:!1,parent:a,text:b})),Pe.set(b,0),ke.set(b,a)}return rt(()=>{l.current?(Ae.set(p,l.current),Se.set(a,l.current),De.set(l.current,a)):(Ae.delete(p),Se.delete(a))}),o.a.createElement(Xe.Provider,{value:!!c},i({attributes:v,children:h,element:a}))},(e,t)=>e.decorate===t.decorate&&e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&it(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&W.equals(e.selection,t.selection))),at=e=>{var{attributes:t,children:r,element:n}=e,a=Ve().isInline(n)?"span":"div";return o.a.createElement(a,Object.assign({},t,{style:{position:"relative"}}),r)},it=(e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],o=t[r];if(!W.equals(n,o))return!1}return!0},st=e=>{for(var{decorate:t,decorations:r,node:n,renderElement:a,renderLeaf:i,selection:s}=e,c=Ve(),l=We.findPath(c,n),u=[],f=A.isElement(n)&&!c.isInline(n)&&D.hasInlines(c,n),d=0;d<n.children.length;d++){var p=l.concat(d),h=n.children[d],v=We.findKey(c,h),g=D.range(c,p),m=s&&W.intersection(g,s),y=t([h,p]);for(var b of r){var w=W.intersection(b,g);w&&y.push(w)}A.isElement(h)?u.push(o.a.createElement(ot,{decorate:t,decorations:y,element:h,key:v.id,renderElement:a,renderLeaf:i,selection:m})):u.push(o.a.createElement(nt,{decorations:y,key:v.id,isLast:f&&d===n.children.length-1,parent:n,renderLeaf:i,text:h})),Pe.set(h,d),ke.set(h,n)}return o.a.createElement(o.a.Fragment,null,u)},ct=("undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,"undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent)),lt="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ut="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),ft="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),dt={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},pt={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},ht={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},vt=e=>{var t=dt[e],r=pt[e],n=ht[e],o=t&&Object(we.isKeyHotkey)(t),a=r&&Object(we.isKeyHotkey)(r),i=n&&Object(we.isKeyHotkey)(n);return e=>!(!o||!o(e))||(!!(ct&&a&&a(e))||!(ct||!i||!i(e)))},gt={isBold:vt("bold"),isCompose:vt("compose"),isMoveBackward:vt("moveBackward"),isMoveForward:vt("moveForward"),isDeleteBackward:vt("deleteBackward"),isDeleteForward:vt("deleteForward"),isDeleteLineBackward:vt("deleteLineBackward"),isDeleteLineForward:vt("deleteLineForward"),isDeleteWordBackward:vt("deleteWordBackward"),isDeleteWordForward:vt("deleteWordForward"),isExtendBackward:vt("extendBackward"),isExtendForward:vt("extendForward"),isExtendLineBackward:vt("extendLineBackward"),isExtendLineForward:vt("extendLineForward"),isItalic:vt("italic"),isMoveLineBackward:vt("moveLineBackward"),isMoveLineForward:vt("moveLineForward"),isMoveWordBackward:vt("moveWordBackward"),isMoveWordForward:vt("moveWordForward"),isRedo:vt("redo"),isSplitBlock:vt("splitBlock"),isTransposeCharacter:vt("transposeCharacter"),isUndo:vt("undo")};function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(r),!0).forEach((function(t){Oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var bt=!(lt||ft),wt=e=>{var{autoFocus:t,decorate:r=Ot,onDOMBeforeInput:a,placeholder:i,readOnly:s=!1,renderElement:c,renderLeaf:l,style:u={},as:f="div"}=e,d=Ee(e,["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","style","as"]),p=Ke(),h=Object(n.useRef)(null);Be.set(p,s);var v=Object(n.useMemo)(()=>({isComposing:!1,isUpdatingSelection:!1,latestElement:null}),[]);rt(()=>{h.current?(Fe.set(p,h.current),Se.set(p,h.current),De.set(h.current,p)):Se.delete(p)}),rt(()=>{var{selection:e}=p,t=window.getSelection();if(!v.isComposing&&t&&We.isFocused(p)){var r="None"!==t.type;if(e||r){var n=Fe.get(p),o=!1;if(n.contains(t.anchorNode)&&n.contains(t.focusNode)&&(o=!0),!(r&&o&&e&&W.equals(We.toSlateRange(p,t),e))){var a=We.toDOMNode(p,p);v.isUpdatingSelection=!0,t.removeAllRanges();var i=e&&We.toDOMRange(p,e);if(i){t.addRange(i);var s=i.startContainer.parentElement;ve(s,{scrollMode:"if-needed",boundary:a})}setTimeout(()=>{i&&lt&&a.focus(),v.isUpdatingSelection=!1})}}}}),Object(n.useEffect)(()=>{h.current&&t&&h.current.focus()},[t]);var g=Object(n.useCallback)(e=>{if(!s&&xt(p,e.target)&&!kt(e,a)){var{selection:t}=p,{inputType:r}=e,n=e.dataTransfer||e.data||void 0;if("insertCompositionText"===r||"deleteCompositionText"===r)return;if(e.preventDefault(),!r.startsWith("delete")||r.startsWith("deleteBy")){var[o]=e.getTargetRanges();if(o){var i=We.toSlateRange(p,o);t&&W.equals(t,i)||re.select(p,i)}}if(t&&W.isExpanded(t)&&r.startsWith("delete"))return void D.deleteFragment(p);switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":D.deleteFragment(p);break;case"deleteContent":case"deleteContentForward":D.deleteForward(p);break;case"deleteContentBackward":D.deleteBackward(p);break;case"deleteEntireSoftLine":D.deleteBackward(p,{unit:"line"}),D.deleteForward(p,{unit:"line"});break;case"deleteHardLineBackward":D.deleteBackward(p,{unit:"block"});break;case"deleteSoftLineBackward":D.deleteBackward(p,{unit:"line"});break;case"deleteHardLineForward":D.deleteForward(p,{unit:"block"});break;case"deleteSoftLineForward":D.deleteForward(p,{unit:"line"});break;case"deleteWordBackward":D.deleteBackward(p,{unit:"word"});break;case"deleteWordForward":D.deleteForward(p,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":D.insertBreak(p);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":n instanceof DataTransfer?We.insertData(p,n):"string"==typeof n&&D.insertText(p,n)}}},[s]);rt(()=>(h.current&&h.current.addEventListener("beforeinput",g),()=>{h.current&&h.current.removeEventListener("beforeinput",g)}),[g]);var m=Object(n.useCallback)(ce()(()=>{if(!s&&!v.isComposing&&!v.isUpdatingSelection){var{activeElement:e}=window.document,t=We.toDOMNode(p,p),r=window.getSelection();if(e===t?(v.latestElement=e,Me.set(p,!0)):Me.delete(p),!r)return re.deselect(p);var{anchorNode:n,focusNode:o}=r,a=xt(p,n)||jt(p,n),i=xt(p,o)||jt(p,o);if(a&&i){var c=We.toSlateRange(p,r);re.select(p,c)}else re.deselect(p)}},100),[s]);rt(()=>(window.document.addEventListener("selectionchange",m),()=>{window.document.removeEventListener("selectionchange",m)}),[m]);var y=r([p,[]]);if(i&&1===p.children.length&&1===Array.from(C.texts(p)).length&&""===C.string(p)){var b=D.start(p,[]);y.push({[Te]:!0,placeholder:i,anchor:b,focus:b})}return o.a.createElement($e.Provider,{value:s},o.a.createElement(f,Object.assign({"data-gramm":!1,role:s?void 0:"textbox"},d,{spellCheck:bt?d.spellCheck:void 0,autoCorrect:bt?d.autoCorrect:void 0,autoCapitalize:bt?d.autoCapitalize:void 0,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s||void 0,suppressContentEditableWarning:!0,ref:h,style:yt({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},u),onBeforeInput:Object(n.useCallback)(e=>{if(!bt&&!s&&!Pt(e,d.onBeforeInput)&&xt(p,e.target)){e.preventDefault();var t=e.data;D.insertText(p,t)}},[s]),onBlur:Object(n.useCallback)(e=>{if(!s&&!v.isUpdatingSelection&&xt(p,e.target)&&!Pt(e,d.onBlur)&&v.latestElement!==window.document.activeElement){var{relatedTarget:t}=e;if(!(t===We.toDOMNode(p,p)||Re(t)&&t.hasAttribute("data-slate-spacer"))){if(null!=t&&_e(t)&&We.hasDOMNode(p,t)){var r=We.toSlateNode(p,t);if(A.isElement(r)&&!p.isVoid(r))return}Me.delete(p)}}},[s,d.onBlur]),onClick:Object(n.useCallback)(e=>{if(!s&&Et(p,e.target)&&!Pt(e,d.onClick)&&_e(e.target)){var t=We.toSlateNode(p,e.target),r=We.findPath(p,t),n=D.start(p,r),o=D.end(p,r),a=D.void(p,{at:n}),i=D.void(p,{at:o});if(a&&i&&T.equals(a[1],i[1])){var c=D.range(p,n);re.select(p,c)}}},[s,d.onClick]),onCompositionEnd:Object(n.useCallback)(e=>{xt(p,e.target)&&!Pt(e,d.onCompositionEnd)&&(v.isComposing=!1,ut||lt||!e.data||D.insertText(p,e.data))},[d.onCompositionEnd]),onCompositionStart:Object(n.useCallback)(e=>{xt(p,e.target)&&!Pt(e,d.onCompositionStart)&&(v.isComposing=!0)},[d.onCompositionStart]),onCopy:Object(n.useCallback)(e=>{xt(p,e.target)&&!Pt(e,d.onCopy)&&(e.preventDefault(),We.setFragmentData(p,e.clipboardData))},[d.onCopy]),onCut:Object(n.useCallback)(e=>{if(!s&&xt(p,e.target)&&!Pt(e,d.onCut)){e.preventDefault(),We.setFragmentData(p,e.clipboardData);var{selection:t}=p;t&&W.isExpanded(t)&&D.deleteFragment(p)}},[s,d.onCut]),onDragOver:Object(n.useCallback)(e=>{if(Et(p,e.target)&&!Pt(e,d.onDragOver)){var t=We.toSlateNode(p,e.target);D.isVoid(p,t)&&e.preventDefault()}},[d.onDragOver]),onDragStart:Object(n.useCallback)(e=>{if(Et(p,e.target)&&!Pt(e,d.onDragStart)){var t=We.toSlateNode(p,e.target),r=We.findPath(p,t);if(D.void(p,{at:r})){var n=D.range(p,r);re.select(p,n)}We.setFragmentData(p,e.dataTransfer)}},[d.onDragStart]),onDrop:Object(n.useCallback)(e=>{if(Et(p,e.target)&&!s&&!Pt(e,d.onDrop)&&(!bt||!ut&&e.dataTransfer.files.length>0)){e.preventDefault();var t=We.findEventRange(p,e),r=e.dataTransfer;re.select(p,t),We.insertData(p,r)}},[s,d.onDrop]),onFocus:Object(n.useCallback)(e=>{if(!s&&!v.isUpdatingSelection&&xt(p,e.target)&&!Pt(e,d.onFocus)){var t=We.toDOMNode(p,p);if(v.latestElement=window.document.activeElement,lt&&e.target!==t)return void t.focus();Me.set(p,!0)}},[s,d.onFocus]),onKeyDown:Object(n.useCallback)(e=>{if(!s&&xt(p,e.target)&&!Pt(e,d.onKeyDown)){var{nativeEvent:t}=e,{selection:r}=p;if(gt.isRedo(t))return e.preventDefault(),void("function"==typeof p.redo&&p.redo());if(gt.isUndo(t))return e.preventDefault(),void("function"==typeof p.undo&&p.undo());if(gt.isMoveLineBackward(t))return e.preventDefault(),void re.move(p,{unit:"line",reverse:!0});if(gt.isMoveLineForward(t))return e.preventDefault(),void re.move(p,{unit:"line"});if(gt.isExtendLineBackward(t))return e.preventDefault(),void re.move(p,{unit:"line",edge:"focus",reverse:!0});if(gt.isExtendLineForward(t))return e.preventDefault(),void re.move(p,{unit:"line",edge:"focus"});if(gt.isMoveBackward(t))return e.preventDefault(),void(r&&W.isCollapsed(r)?re.move(p,{reverse:!0}):re.collapse(p,{edge:"start"}));if(gt.isMoveForward(t))return e.preventDefault(),void(r&&W.isCollapsed(r)?re.move(p):re.collapse(p,{edge:"end"}));if(gt.isMoveWordBackward(t))return e.preventDefault(),void re.move(p,{unit:"word",reverse:!0});if(gt.isMoveWordForward(t))return e.preventDefault(),void re.move(p,{unit:"word"});if(!bt){if(gt.isBold(t)||gt.isItalic(t)||gt.isTransposeCharacter(t))return void e.preventDefault();if(gt.isSplitBlock(t))return e.preventDefault(),void D.insertBreak(p);if(gt.isDeleteBackward(t))return e.preventDefault(),void(r&&W.isExpanded(r)?D.deleteFragment(p):D.deleteBackward(p));if(gt.isDeleteForward(t))return e.preventDefault(),void(r&&W.isExpanded(r)?D.deleteFragment(p):D.deleteForward(p));if(gt.isDeleteLineBackward(t))return e.preventDefault(),void(r&&W.isExpanded(r)?D.deleteFragment(p):D.deleteBackward(p,{unit:"line"}));if(gt.isDeleteLineForward(t))return e.preventDefault(),void(r&&W.isExpanded(r)?D.deleteFragment(p):D.deleteForward(p,{unit:"line"}));if(gt.isDeleteWordBackward(t))return e.preventDefault(),void(r&&W.isExpanded(r)?D.deleteFragment(p):D.deleteBackward(p,{unit:"word"}));if(gt.isDeleteWordForward(t))return e.preventDefault(),void(r&&W.isExpanded(r)?D.deleteFragment(p):D.deleteForward(p,{unit:"word"}))}}},[s,d.onKeyDown]),onPaste:Object(n.useCallback)(e=>{Pt(e,d.onPaste)||bt&&!(e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length)(e.nativeEvent)||s||!xt(p,e.target)||(e.preventDefault(),We.insertData(p,e.clipboardData))},[s,d.onPaste])}),o.a.createElement(st,{decorate:r,decorations:y,node:p,renderElement:c,renderLeaf:l,selection:p.selection})))},Ot=()=>[],Et=(e,t)=>_e(t)&&We.hasDOMNode(e,t),xt=(e,t)=>_e(t)&&We.hasDOMNode(e,t,{editable:!0}),jt=(e,t)=>{var r=Et(e,t)&&We.toSlateNode(e,t);return D.isVoid(e,r)},Pt=(e,t)=>!!t&&(t(e),e.isDefaultPrevented()||e.isPropagationStopped()),kt=(e,t)=>!!t&&(t(e),e.defaultPrevented),Ft=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t?t(e):e}),e)}},Dt=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(e,t){return t?t(e):e}),e)}},At=function(e){return function(t){return t.map(e)}},St=function(e){return function(t){return t[e]}};function Ct(e){return function(e){if(Array.isArray(e))return Bt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){return t.apply(void 0,Ct(e))}};function Nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(r),!0).forEach((function(t){Rt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _t=function(e){return Tt(Tt({},{name:"",renderLeaf:function(e){return function(t){return e(t)}},renderElement:function(e){return function(t){return e(t)}},ToolbarButton:function(){return null},renderCustom:function(){return null},handleMessage:function(){return function(){}},enhanceEditor:function(e){return e}}),e)},zt=function(e){return function(t){return t.id=e,t}};function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return It(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return It(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wt=function(){var e=Object(n.useRef)(0),t=Lt(Object(n.useState)(0),2),r=t[0],o=t[1],a=e.current!==r;return e.current=r,{isForceUpdated:a,forceUpdate:function(){return o(r+1)}}};function qt(e){return function(e){if(Array.isArray(e))return Ht(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ht(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(r),!0).forEach((function(t){Kt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jt=function(e,t){var r=D.marks(e);return!!r&&!0===r[t]},$t=function(e,t){Jt(e,t)?D.removeMark(e,t):D.addMark(e,t,!0)},Xt=function(e){var t=e.attributes,r=e.children;return o.a.createElement("span",t,r)},Yt=function(e,t){return function(r){return function(n){if(n.leaf[e]){var a=o.a.createElement(t,n);return r(Ut(Ut({},n),{},{children:a}))}return r(n)}}},Zt="bulleted-list",Gt="numbered-list";function Qt(e){return function(e){if(Array.isArray(e))return nr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||rr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(){return(er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||rr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rr(e,t){if(e){if("string"==typeof e)return nr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nr(e,t):void 0}}function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var or=function(e,t){return!!tr(D.nodes(e,{match:function(e){return e.type===t}}),1)[0]},ar=function(e){return[Zt,Gt].includes(e.type)},ir=o.a.forwardRef((function(e,t){return o.a.createElement("p",er({ref:t,style:{margin:0,lineHeight:1.5}},e))})),sr=function(e){var t=e.attributes,r=e.children;return o.a.createElement(ir,t,r)},cr=function(e,t){return function(r){return function(n){return n.element.type===e?o.a.createElement(t,n):r(n)}}},lr=function(e,t){return function(r){var n=function(n){n.data.type==="".concat("@hero-editor","/").concat(r.id,"/").concat(e)&&t({editor:r,data:n.data.data})};return window.addEventListener("message",n),function(){return window.removeEventListener("message",n)}}},ur=function(e,t,r){var n,o={type:"".concat("@hero-editor","/").concat(r.id,"/").concat(e),data:t};window.postMessage(o,"*"),null===(n=window.ReactNativeWebView)||void 0===n||n.postMessage(JSON.stringify(o))};function fr(){return(fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(r),!0).forEach((function(t){hr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var gr={toolbar:{display:"flex",flexDirection:"row"},button:{display:"flex",alignItems:"center",justifyContent:"center",height:30,minWidth:30,margin:5,padding:0,border:"none",background:"transparent",borderRadius:4,cursor:"pointer"},buttonActive:{background:"#f5f5f5"},separator:{margin:"10px 5px",borderRight:"solid thin #eaeaea"}},mr=function(e){var t=e.children;return o.a.createElement("div",{style:gr.toolbar},t)};mr.Button=function(e){var t=e.active,r=vr(e,["active"]);return o.a.createElement("button",fr({},r,{style:pr(pr({},gr.button),t?gr.buttonActive:void 0)}))},mr.Separator=function(){return o.a.createElement("div",{style:gr.separator})};var yr=mr,br={format_bold:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"/></svg>',format_italic:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"/></svg>',format_underlined:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/></svg>',format_list_bulleted:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/></svg>',format_list_numbered:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/></svg>'},wr={icon:{opacity:.7}},Or=function(e){var t=e.children;return o.a.createElement("img",{height:20,src:"data:image/svg+xml;utf8,".concat(br[t]),style:wr.icon})},Er=Yt("bold",(function(e){var t=e.children;return o.a.createElement("strong",null,t)})),xr=lr("bold",(function(e){var t=e.editor;$t(t,"bold")})),jr=function(){var e=Ke();return o.a.createElement(yr.Button,{active:Jt(e,"bold"),onMouseDown:function(t){t.preventDefault(),ur("bold",{},e)}},o.a.createElement(Or,null,"format_bold"))},Pr=function(){return _t({name:"bold",renderLeaf:Er,handleMessage:xr,ToolbarButton:jr})},kr=Yt("italic",(function(e){var t=e.children;return o.a.createElement("em",null,t)})),Fr=lr("italic",(function(e){var t=e.editor;$t(t,"italic")})),Dr=function(){var e=Ke();return o.a.createElement(yr.Button,{active:Jt(e,"italic"),onMouseDown:function(t){t.preventDefault(),ur("italic",{},e)}},o.a.createElement(Or,null,"format_italic"))},Ar=function(){return _t({name:"italic",renderLeaf:kr,handleMessage:Fr,ToolbarButton:Dr})},Sr=Yt("underline",(function(e){var t=e.children;return o.a.createElement("u",null,t)})),Cr=lr("underline",(function(e){var t=e.editor;$t(t,"underline")})),Br=function(){var e=Ke();return o.a.createElement(o.a.Fragment,null,o.a.createElement(yr.Button,{active:Jt(e,"underline"),onMouseDown:function(t){t.preventDefault(),ur("underline",{},e)}},o.a.createElement(Or,null,"format_underlined")),o.a.createElement(yr.Separator,null))},Mr=function(){return _t({name:"underline",renderLeaf:Sr,handleMessage:Cr,ToolbarButton:Br})},Nr=function(){var e=function(e){var t,r;if(null===(t=e.data.type)||void 0===t?void 0:t.startsWith("@hero-editor")){var n=(r=e.data.data)&&Object.keys(r).length<1?"groupCollapsed":"group";console[n]("%c ".concat(e.data.type," "),"color: limegreen;"),console.log({data:e.data.data,event:e}),console.groupEnd()}};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}},Tr=function(){return _t({name:"logger",handleMessage:Nr})},Rr=cr(Zt,(function(e){var t=e.attributes,r=e.children;return o.a.createElement("ul",t,r)})),_r=lr(Zt,(function(e){var t=e.editor,r=or(t,Zt);re.unwrapNodes(t,{match:ar,split:!0}),r?re.setNodes(t,{type:"paragraph"}):(re.setNodes(t,{type:"list-item"}),re.wrapNodes(t,{type:Zt,children:[]}))})),zr=function(){var e=Ke();return o.a.createElement(yr.Button,{active:or(e,Zt),onMouseDown:function(t){t.preventDefault(),ur(Zt,{},e)}},o.a.createElement(Or,null,"format_list_bulleted"))},Lr=function(){return _t({name:Zt,renderElement:Rr,handleMessage:_r,ToolbarButton:zr})},Ir=cr(Gt,(function(e){var t=e.attributes,r=e.children;return o.a.createElement("ol",t,r)})),Wr=lr(Gt,(function(e){var t=e.editor,r=or(t,Gt);re.unwrapNodes(t,{match:ar,split:!0}),r?re.setNodes(t,{type:"paragraph"}):(re.setNodes(t,{type:"list-item"}),re.wrapNodes(t,{type:Gt,children:[]}))})),qr=function(){var e=Ke();return o.a.createElement(yr.Button,{active:or(e,Gt),onMouseDown:function(t){t.preventDefault(),ur(Gt,{},e)}},o.a.createElement(Or,null,"format_list_numbered"))},Hr=function(){return _t({name:Gt,renderElement:Ir,handleMessage:Wr,ToolbarButton:qr})},Vr=cr("list-item",(function(e){var t=e.attributes,r=e.children;return o.a.createElement("li",t,r)})),Ur=function(){return _t({name:"list-item",renderElement:Vr})};function Kr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $r(){return($r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Xr=cr("mention",(function(e){var t=e.attributes,r=e.children,n=e.element;return o.a.createElement("span",$r({},t,{contentEditable:!1,style:{padding:"2px 4px",background:"#eeeeee",borderRadius:4}}),"@",n.data.name,r)})),Yr=function(e){var t=lr("editor-change",(function(e){var t=e.editor,r=t.selection;if(r&&W.isCollapsed(r)){var n=Kr(W.edges(r),1)[0],o=D.before(t,n,{unit:"word"}),a=o&&D.before(t,o),i=a&&D.range(t,a,n),s=i&&D.string(t,i),c=s&&s.match(/^@(\w+)$/),l=D.after(t,n),u=D.range(t,n,l),f=D.string(t,u).match(/^(\s|$)/);ur("mention-search",c&&f?{target:i,search:c[1]}:{target:null,search:""},t)}}))(e),r=lr("mention-apply",(function(e){var t=e.editor,r=e.data,n=r.id,o=r.name,a=r.meta;re.select(t,a.target);var i={type:"mention",data:{id:n,name:o},children:[{text:""}]};re.insertNodes(t,i),re.move(t)}))(e);return function(){t(),r()}},Zr=function(e){var t=e.renderMentionList,r=Kr(Object(n.useState)(""),2),a=r[0],i=r[1],s=Kr(Object(n.useState)(null),2),c=s[0],l=s[1],u=Object(n.useRef)(null),f=Ke();return Object(n.useEffect)((function(){var e=lr("mention-search",(function(e){var t=e.data,r=u.current;if(t.target){var n=We.toDOMRange(f,t.target).getBoundingClientRect(),o=r.parentElement.getBoundingClientRect();r.style.display="block",r.style.top="".concat(n.top-o.top+20,"px"),r.style.left="".concat(n.left-o.left,"px")}else r.style.display="none";i(t.search),l(t.target)}))(f);return function(){return e()}}),[]),o.a.createElement("div",{ref:u,style:{position:"absolute",display:"none"}},t(a,(function(e){var t=e.id,r=e.name;ur("mention-apply",{id:t,name:r,meta:{target:c}},f)})))},Gr=function(e){var t=e.isInline,r=e.isVoid;return e.isInline=function(e){return"mention"===e.type||t(e)},e.isVoid=function(e){return"mention"===e.type||r(e)},e},Qr=function(e){var t=e.renderMentionList;return _t({name:"mention",renderElement:Xr,renderCustom:function(){return o.a.createElement(Zr,{key:"mention",renderMentionList:t})},handleMessage:Yr,enhanceEditor:Gr})};function en(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?en(Object(r),!0).forEach((function(t){rn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):en(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nn={boxSizing:"border-box",position:"absolute",top:0,left:0,width:"100%",padding:16,lineHeight:1.5,color:"lightgrey",zIndex:-1},on=function(e){return void 0!==e.current},an=function(e){var t=e.value,r=e.editor,a=e.style,i=Object(n.useRef)(void 0),s=Wt(),c=s.isForceUpdated,l=s.forceUpdate,u=Object(n.useCallback)((function(){var e,n=1===(e=r.children).length&&"paragraph"===e[0].type&&1===e[0].children.length&&""===e[0].children[0].text,i=tn(tn({},nn),a);return n?o.a.createElement("div",{style:i},t):null}),[]);return Object(n.useEffect)((function(){if(on(i)){var e=setTimeout((function(){i.current=void 0,c||l()}),500);return function(){return clearTimeout(e)}}})),on(i)||(i.current=u()),i.current},sn=function(e){var t=e.value,r=e.style;return _t({name:"editor-placeholder",renderCustom:function(e){return o.a.createElement(an,{key:"editor-placeholder",value:t,editor:e,style:r})}})},cn=r(11),ln=r.n(cn);function un(){return(un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var fn=function(e){return e.children.reduce((function(e,t){return e+t.text}),"")},dn=cr("link",(function(e){var t=e.attributes,r=e.children,n=e.element;return o.a.createElement("a",un({},t,{href:fn(n)}),r)})),pn=lr("link",(function(e){var t=e.editor,r=e.data.url;re.insertNodes(t,{type:"link",data:{url:r},children:[{text:r}]})})),hn=function(e){var t=e.isInline,r=e.insertData;return e.isInline=function(e){return"link"===e.type||t(e)},e.insertData=function(t){var n=t.getData("text/plain");n&&ln()(n)?ur("link",{url:n},e):r(t)},e},vn=function(){return _t({name:"link",renderElement:dn,handleMessage:pn,enhanceEditor:hn})},gn={jsonViewer:{padding:16,borderRadius:4,background:"linen"}},mn=function(e){var t=e.value;return o.a.createElement("pre",{style:gn.jsonViewer},o.a.createElement("code",null,JSON.stringify(t,null,2)))},yn=function(e){return e.map((function(e){return C.string(e)})).join("\n")},bn=function(e){return function(t){return function(){return e(t(t)).apply(void 0,arguments)}}((function(t){return function(){return e(t(t)).apply(void 0,arguments)}}))},wn=Array.isArray,On=function(e){return bn((function(t){return function(r,n){if(wn(r))return r.map(t);if(U.isText(r))return e.leaf(r,n);var o=r.children.map(t);return e.element(r,o,n)}}))},En=On({leaf:function(e,t){var r=e.text;return e.bold&&(r=o.a.createElement("strong",{key:t},r)),e.italic&&(r=o.a.createElement("em",{key:t},r)),e.underline&&(r=o.a.createElement("u",{key:t},r)),o.a.createElement("span",{key:t},r)},element:function(e,t,r){switch(e.type){case"paragraph":return o.a.createElement("p",{key:r,style:{margin:0,lineHeight:1.5,minHeight:"1.5em"}},t);case"link":return o.a.createElement("a",{key:r,href:C.string(e),target:"_blank"},t);case"mention":return o.a.createElement("span",{key:r,style:{padding:"2px 4px",background:"#eeeeee",borderRadius:4}},"@",e.data.name);case"bulleted-list":return o.a.createElement("ul",{key:r},t);case"numbered-list":return o.a.createElement("ol",{key:r},t);case"list-item":return o.a.createElement("li",{key:r},t);default:return o.a.createElement("div",{key:r},t)}}}),xn=On;function jn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(r),!0).forEach((function(t){kn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fn(e){return function(e){if(Array.isArray(e))return Dn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var An={editorWrapper:{fontFamily:"sans-serif",border:"solid thin #eaeaea",borderRadius:4},editableWrapper:{position:"relative"},editable:{padding:16}},Sn=At((function(e){var t=e.name,r=e.ToolbarButton;return o.a.createElement(r,{key:t})})),Cn=function(){};t.default=function(e){var t=e.id,r=e.showToolbar,a=void 0===r||r,i=e.autoFocus,s=void 0!==i&&i,c=e.plugins,l=void 0===c?[]:c,u=e.placeholder,f=e.value,d=e.onChange,p=e.onFocus,h=void 0===p?Cn:p,v=e.onBlur,g=void 0===v?Cn:v,m=e.onResize,y=void 0===m?Cn:m,b=e.wrapperStyle,w=e.editableStyle,O=Object(n.useRef)(null),E=Object(n.useRef)({width:0,height:0}),x=Object(n.useMemo)((function(){return Dt.apply(void 0,[ae,Ye,zt(t)].concat(Fn(At(St("enhanceEditor"))(l))))()}),[]),j=Object(n.useMemo)((function(){return function(e){return Ft.apply(void 0,qt(e.map((function(e){return e.renderLeaf}))))(Xt)}(l)}),[l]),P=Object(n.useMemo)((function(){return function(e){return Ft.apply(void 0,Qt(e.map((function(e){return e.renderElement}))))(sr)}(l)}),[l]),k=Object(n.useMemo)((function(){return function(){return function(e){return At(Dt(St("renderCustom"),Mt([e])))}(x)(l)}}),[l,f]),F=Object(n.useMemo)((function(){return Sn(l)}),[l]);return Object(n.useEffect)((function(){var e=function(e){return At(Dt(St("handleMessage"),Mt([e])))}(x)(l);return function(){return e.forEach((function(e){return e()}))}}),[l]),Object(n.useEffect)((function(){var e,t,r=null===(e=O.current)||void 0===e?void 0:e.offsetWidth,n=null===(t=O.current)||void 0===t?void 0:t.offsetHeight;r===E.current.width&&n===E.current.height||(E.current={width:r,height:n},y(E.current),ur("editor-resize",E.current,x))}),[f]),o.a.createElement("div",{ref:O,className:"hero-editor--wrapper",style:Pn(Pn({},An.editorWrapper),b)},o.a.createElement(Je,{editor:x,value:f,onChange:function(e){d(e),ur("editor-change",{value:e},x)}},a?o.a.createElement(yr,null,F):null,o.a.createElement("div",{style:An.editableWrapper},o.a.createElement(wt,{className:"hero-editor--editable",placeholder:u,autoFocus:s,renderLeaf:j,renderElement:P,onFocus:function(e){h(e),ur("editor-focus",{},x)},onBlur:function(e){g(e),ur("editor-blur",{},x)},style:Pn(Pn({},An.editable),w)}),k())))}}])}));
//# sourceMappingURL=lib.js.map